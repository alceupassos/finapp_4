import{a as x,j as e,c as se,h as Qe}from"./vendor-react-LKNicB05.js";import{m as g}from"./vendor-motion-B58r-QRs.js";import{L as ea,C as aa,N as sa,T as Y,W as Ae,F as xe,U as Me,a as ta,B as Oe,S as te,b as ra,c as oa,X as Pe,d as ke,e as na,M as ia,f as fe,g as Te,h as ze,A as $e,i as la,E as ca,j as da,k as ma,l as xa,m as pa,n as ua,o as Fe,P as ha,p as Le,V as ga,I as Be,q as fa,R as ba,r as ja,s as Ve,t as _e,u as Ge,v as va,w as Na,x as ee,y as ya,z as wa,D as Ca,G as Sa,H as Ea,J as Da,Z as Ra}from"./vendor-ui-CCTholrg.js";import{i as J,j as pe,k as X,l as W,m as Z,n as K,o as H,p as ue,q as oe,r as ne,s as Ia,t as Aa,u as Ma,v as be}from"./vendor-recharts-CC_6uSjI.js";import{c as Oa,a as je,s as ve,u as Pa,b as ka,m as Ne}from"./vendor-tremor-DHV9nXN5.js";import{a5 as Ta,b$ as za}from"./vendor-D5S_S527.js";import{t as $a}from"./vendor-tailwind-merge-DxgBj8Ug.js";import"./vendor-date-fns-B_6AWE7E.js";import"./vendor-tanstack-ofcTeKip.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const He="https://xzrmzmcoslomtzkzgskn.supabase.co",ie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6cm16bWNvc2xvbXR6a3pnc2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTI2MjMsImV4cCI6MjA3NzMyODYyM30.smtxh5O5vKzdLBK3GWVudfFQsNpwkzXgc1Qev2gIicI";function qe(){const t=localStorage.getItem("supabase_session");if(!t)return null;try{return JSON.parse(t).access_token||null}catch{return null}}async function Q(t,n={}){const o=new URL(`${He}/rest/v1/${t}`);Object.entries(n.query||{}).forEach(([s,m])=>o.searchParams.set(s,m));const i=qe()||ie,r=await fetch(o.toString(),{headers:{apikey:ie,Authorization:`Bearer ${i}`,Accept:"application/json"}});if(!r.ok)throw new Error(`Supabase GET ${t} failed: ${r.status}`);return r.json()}async function ye(t,n){const o=`${He}/rest/v1/${t}`,i=qe()||ie,r=await fetch(o,{method:"POST",headers:{apikey:ie,Authorization:`Bearer ${i}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Supabase POST ${t} failed: ${r.status}`);return r.json()}const A={restGet:Q,restPost:ye,getCompanies:async()=>{const t=await Q("dre_entries",{query:{select:"company_cnpj,company_nome",limit:"1000"}}),n=await Q("cashflow_entries",{query:{select:"company_cnpj,company_nome",limit:"1000"}}),o=new Map;return[...t,...n].forEach(i=>{const r=i.company_cnpj;o.has(r)||o.set(r,{cnpj:r,cliente_nome:i.company_nome,grupo_empresarial:i.company_nome.includes("VOLPE")?"Grupo Volpe":"Outros"})}),Array.from(o.values()).sort((i,r)=>i.cnpj.localeCompare(r.cnpj))},getDRE:async t=>{const n=(t||"").replace(/^0+/,""),o=await Q("dre_entries",{query:{company_cnpj:`eq.${n}`,select:"*",limit:"5000"}});return Array.isArray(o)?(console.log("ðŸ” getDRE recebeu",o.length,"registros para CNPJ",n),o.map(i=>({data:i.date||i.data,conta:i.account??i.conta??"Conta",natureza:i.nature??i.natureza??null,valor:Number(i.amount??i.valor??0)}))):[]},getDFC:async t=>{const n=(t||"").replace(/^0+/,""),o=await Q("cashflow_entries",{query:{company_cnpj:`eq.${n}`,select:"*",limit:"5000"}});if(!Array.isArray(o))return[];if(console.log("ðŸ” getDFC recebeu",o.length,"registros para CNPJ",n),o.length&&(o[0].entrada!==void 0||o[0].saida!==void 0))return o;const i=[...o].sort((s,m)=>new Date(s.date||s.data).getTime()-new Date(m.date||m.data).getTime());let r=0;return i.map(s=>{const m=String(s.kind||"").toLowerCase()==="in"?Number(s.amount||0):0,c=String(s.kind||"").toLowerCase()==="out"?Number(s.amount||0):0;return r+=m-c,{data:s.date||s.data,descricao:s.category||s.descricao||"LanÃ§amento",entrada:m,saida:c,saldo:r,id:s.id??void 0}})},log:t=>ye("app_logs",{...t,ts:new Date().toISOString()})};let re="";async function Je(t,n){const r=await fetch("https://xzrmzmcoslomtzkzgskn.supabase.co/auth/v1/token?grant_type=password",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6cm16bWNvc2xvbXR6a3pnc2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTI2MjMsImV4cCI6MjA3NzMyODYyM30.smtxh5O5vKzdLBK3GWVudfFQsNpwkzXgc1Qev2gIicI",Accept:"application/json"},body:JSON.stringify({email:t,password:n})});if(!r.ok){try{const s=await r.json();re=String(s.error_description||s.error||`HTTP ${r.status}`)}catch{re=`HTTP ${r.status}`}return null}return re="",r.json()}async function Fa(t,n){try{const o=await Je(t,n);if(!o||!o.access_token)return null;localStorage.setItem("supabase_session",JSON.stringify(o));const i={id:o.user?.id||"unknown",email:t},r={id:i.id,email:i.email||t,name:(i.email||t).split("@")[0],role:"cliente",defaultCompany:null,mode:"supabase",accessToken:o.access_token};return localStorage.setItem("session_user",JSON.stringify(r)),r}catch{return null}}function La(){const t=localStorage.getItem("session_user");return t?JSON.parse(t):null}function Ba(){localStorage.removeItem("session_user"),localStorage.removeItem("supabase_session")}const Va=[{icon:ea,label:"Dashboard",active:!0},{icon:aa,label:"AnÃ¡lises",active:!1},{icon:sa,label:"NotÃ­cias",active:!1},{icon:Y,label:"Fluxo de Caixa",active:!1},{icon:Ae,label:"Extrato de LanÃ§amentos",active:!1},{icon:xe,label:"RelatÃ³rios",active:!1},{icon:Me,label:"Clientes",active:!1}];function _a(t){return[{icon:Oe,label:"NotificaÃ§Ãµes"},{icon:te,label:"ConfiguraÃ§Ãµes"},{icon:xe,label:"Gerenciamento â€¢ Logs",adminOnly:!0},{icon:ra,label:"Sair"}].filter(o=>!o.adminOnly||t==="admin")}function Ga({onOpenSettings:t,onOpenLogs:n,role:o="cliente"}){const[i,r]=x.useState(null);return e.jsxs(g.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"fixed left-0 top-0 h-screen w-64 bg-gradient-to-b from-charcoal-950 via-graphite-950 to-charcoal-900 border-r border-graphite-900 flex flex-col z-50 pattern-soft",children:[e.jsx("div",{className:"p-6 border-b border-graphite-900 flex justify-center",children:e.jsx(g.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:e.jsx("img",{src:"/finapp-logo.png",alt:"FinApp Logo",className:"h-16 w-auto object-contain"})})}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:Va.map((s,m)=>e.jsxs(g.button,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*m},onHoverStart:()=>r(m),onHoverEnd:()=>r(null),onClick:()=>{if(s.label==="RelatÃ³rios"){const c=new CustomEvent("navigate",{detail:"RelatÃ³rios"});window.dispatchEvent(c)}if(s.label==="Clientes"){const c=new CustomEvent("navigate",{detail:"Clientes"});window.dispatchEvent(c)}if(s.label==="Dashboard"||s.label==="AnÃ¡lises"||s.label==="NotÃ­cias"||s.label==="Fluxo de Caixa"||s.label==="Extrato de LanÃ§amentos"){const c=new CustomEvent("navigate",{detail:s.label});window.dispatchEvent(c)}},className:`
              w-full flex items-center gap-3 px-4 py-2.5 rounded-xl
              transition-all duration-200 group relative
              ${s.active?"bg-gold-500 text-white shadow-glow-sm":"text-graphite-400 hover:text-white hover:bg-graphite-900"}
            `,children:[s.active&&e.jsx(g.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gold-500 rounded-xl",transition:{type:"spring",duration:.6}}),e.jsx(g.span,{whileHover:{scale:1.08,rotate:1},className:"relative z-10",children:e.jsx(s.icon,{className:`w-4 h-4 ${s.active?"text-white":""}`})}),e.jsx("span",{className:"text-sm font-medium relative z-10",children:s.label}),i===m&&!s.active&&e.jsx(g.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},className:"ml-auto",children:e.jsx(ta,{className:"w-4 h-4"})})]},s.label))}),e.jsx("div",{className:"p-4 border-t border-graphite-900 space-y-1",children:_a(o).map((s,m)=>e.jsxs(g.button,{whileHover:{x:5},whileTap:{scale:.98},onClick:()=>{s.label==="ConfiguraÃ§Ãµes"&&t&&t(),s.label==="Gerenciamento â€¢ Logs"&&n&&n(),s.label==="Sair"&&(Ba(),window.dispatchEvent(new CustomEvent("logout")),location.reload())},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-graphite-400 hover:text-white hover:bg-graphite-900 transition-all duration-200",children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s.label})]},s.label))}),e.jsx(g.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"p-4 border-t border-graphite-900",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 transition-all cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center text-white font-bold",children:"AC"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:"Admin BPO"}),e.jsx("p",{className:"text-xs text-graphite-400 truncate",children:"admin@bpo.com"})]})]})})]})}const Ha={info:(t,n={})=>A.log({level:"info",service:"UI",message:t,...n}),warn:(t,n={})=>A.log({level:"warn",service:"UI",message:t,...n}),error:(t,n={})=>A.log({level:"error",service:"UI",message:t,...n})};function qa({open:t,onClose:n,contextRules:o=""}){const[i,r]=x.useState(""),[s,m]=x.useState([]),c=x.useRef(null);if(x.useEffect(()=>{t&&c.current&&(c.current.scrollTop=c.current.scrollHeight)},[t,s]),!t)return null;const N=async()=>{const f=i.trim();if(!f)return;const u=Date.now();m(h=>[...h,{role:"user",content:f,ts:u}]),r("");const y=`Consulta: ${f}

Regra: ${o?o.slice(0,160)+"â€¦":"padrÃ£o executiva"}

Resposta: Em breve, integrado ao Supabase / ERPs.`;m(h=>[...h,{role:"assistant",content:y,ts:Date.now()}]);try{await Ha.info("oracle_query",{endpoint:"oracle",latencyMs:0})}catch{}};return e.jsx(g.div,{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm",children:e.jsxs(g.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"absolute right-8 top-20 w-[520px] bg-card border border-border rounded-3xl shadow-soft-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:"text-sm font-semibold",children:"OrÃ¡culo de IA â€¢ Respostas concisas"})]}),e.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs("div",{ref:c,className:"max-h-[48vh] overflow-y-auto p-4 space-y-3",children:[s.map((f,u)=>e.jsx("div",{className:f.role==="user"?"text-foreground":"text-muted-foreground",children:e.jsx("p",{className:"text-sm whitespace-pre-line",children:f.content})},u)),s.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"FaÃ§a uma pergunta rÃ¡pida sobre lanÃ§amentos, DRE/DFC, fluxo ou insights."})]}),e.jsxs("div",{className:"p-4 border-t border-border flex items-center gap-2",children:[e.jsx("input",{value:i,onChange:f=>r(f.target.value),placeholder:"Digite sua perguntaâ€¦",className:"flex-1 bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20"}),e.jsx("button",{onClick:N,className:"px-3 py-2 rounded-xl bg-gold-500 text-white text-sm hover:bg-gold-600 focus-visible-ring",children:"Enviar"})]})]})})}function Ja({onThemeToggle:t,isDark:n=!0,oracleContext:o="",currentPeriod:i="Ano",onPeriodChange:r,selectedMonth:s="2025-11",onMonthChange:m,selectedCompany:c="26888098000159",onCompanyChange:N,companies:f=[]}){const[u,y]=x.useState(3),[h,w]=x.useState(!1),S=[{value:"2025-01",label:"Janeiro 2025"},{value:"2025-02",label:"Fevereiro 2025"},{value:"2025-03",label:"MarÃ§o 2025"},{value:"2025-04",label:"Abril 2025"},{value:"2025-05",label:"Maio 2025"},{value:"2025-06",label:"Junho 2025"},{value:"2025-07",label:"Julho 2025"},{value:"2025-08",label:"Agosto 2025"},{value:"2025-09",label:"Setembro 2025"},{value:"2025-10",label:"Outubro 2025"},{value:"2025-11",label:"Novembro 2025"},{value:"2025-12",label:"Dezembro 2025"}];return e.jsxs(e.Fragment,{children:[e.jsxs(g.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-40 bg-charcoal-950/80 backdrop-blur-xl border-b border-graphite-900",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsxs("div",{className:"relative group",children:[e.jsx(ke,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-graphite-400 group-focus-within:text-gold-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar transaÃ§Ãµes, clientes, relatÃ³rios...",className:`
                w-full pl-12 pr-4 py-3 
                bg-graphite-900 
                border border-graphite-800 
                rounded-2xl 
                text-white placeholder-graphite-500
                focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20
                transition-all duration-200
              `})]})}),e.jsxs("div",{className:"flex items-center gap-3 ml-6",children:[f.length>0&&e.jsxs("select",{value:c,onChange:b=>N?.(b.target.value),className:"px-4 py-2 rounded-xl bg-graphite-900 border border-graphite-800 text-white text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 transition-all",children:[e.jsx("option",{value:"",children:"Todas as Empresas"}),f.map(b=>e.jsx("option",{value:b.cnpj,children:b.cliente_nome},b.cnpj))]}),e.jsx("select",{value:s,onChange:b=>m?.(b.target.value),className:"px-4 py-2 rounded-xl bg-graphite-900 border border-graphite-800 text-white text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 transition-all",children:S.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),e.jsx(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!0),className:"p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all group","aria-label":"Abrir OrÃ¡culo de IA",children:e.jsx(na,{className:"w-5 h-5"})}),e.jsxs(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all group",children:[e.jsx(Oe,{className:"w-5 h-5"}),u>0&&e.jsx(g.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-gold-500 rounded-full text-xs font-bold text-white flex items-center justify-center shadow-glow-sm",children:u})]}),e.jsxs(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all relative overflow-hidden group",children:[e.jsx(g.div,{initial:!1,animate:{rotate:n?0:180,scale:n?1:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ia,{className:"w-5 h-5"})}),e.jsx(g.div,{initial:!1,animate:{rotate:n?180:0,scale:n?0:1},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5"})}),e.jsx("div",{className:"opacity-0",children:e.jsx(fe,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"h-8 w-px bg-graphite-800"}),e.jsxs("div",{className:"hidden lg:flex items-center gap-6 pl-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-graphite-400",children:"Saldo Total"}),e.jsx("p",{className:"text-sm font-bold text-white",children:"R$ 2.847.920,00"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-graphite-400",children:"VariaÃ§Ã£o"}),e.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"+12.5%"})]})]})]})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(g.h1,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"text-2xl font-bold text-white font-display",children:"Dashboard Financeiro"}),e.jsx(g.p,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"text-sm text-graphite-400 mt-1",children:"VisÃ£o geral â€¢ Atualizado agora hÃ¡ pouco"})]}),e.jsx(g.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"flex items-center gap-2 bg-graphite-900 rounded-xl p-1",children:["Dia","Semana","MÃªs","Ano"].map(b=>e.jsx("button",{onClick:()=>r&&r(b),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${i===b?"bg-gold-500 text-white shadow-glow-sm":"text-graphite-400 hover:text-white hover:bg-graphite-800"}`,children:b},b))})]})})]}),e.jsx(qa,{open:h,onClose:()=>w(!1),contextRules:o})]})}const Ka={green:{bg:"from-emerald-500/20 to-emerald-600/10",icon:"bg-emerald-500/20 text-emerald-400",text:"text-emerald-400",border:"border-emerald-500/20"},red:{bg:"from-red-500/20 to-red-600/10",icon:"bg-red-500/20 text-red-400",text:"text-red-400",border:"border-red-500/20"},gold:{bg:"from-gold-500/20 to-gold-600/10",icon:"bg-gold-500/20 text-gold-400",text:"text-gold-400",border:"border-gold-500/20"},blue:{bg:"from-blue-500/20 to-blue-600/10",icon:"bg-blue-500/20 text-blue-400",text:"text-blue-400",border:"border-blue-500/20"}},Ua={TrendingUp:Y,TrendingDown:ze,Wallet:Ae,Target:Te};function ae({title:t,value:n,change:o,icon:i,trend:r="up",color:s="gold",delay:m=0,progress:c,sparklineData:N}){const f=Ka[s],u=r==="up",y=Ua[i]||Y;return e.jsxs(g.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:m,duration:.5,ease:"easeOut"},whileHover:{y:-4,scale:1.02},className:"group relative",children:[e.jsx(g.div,{className:`absolute inset-0 bg-gradient-to-br ${f.bg} rounded-3xl blur-xl opacity-0 group-hover:opacity-60 transition-opacity duration-500`}),e.jsxs("div",{className:"relative neomorphic neomorphic-hover rounded-3xl p-6 border border-graphite-800/30",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-graphite-400 font-medium mb-2",children:t}),e.jsx(g.h3,{initial:{scale:.9},animate:{scale:1},transition:{delay:m+.2},className:"text-3xl font-bold text-white font-display",children:n})]}),e.jsx(g.div,{whileHover:{rotate:15,scale:1.1},className:`p-3 rounded-2xl bg-gradient-to-br ${f.bg} border ${f.border}`,children:e.jsx(y,{className:"w-6 h-6 text-current",style:{color:f.icon.split(" ")[1].replace("text-","")}})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs(g.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:m+.3},className:`flex items-center gap-1 px-3 py-1.5 rounded-lg ${u?"bg-emerald-500/10":"bg-red-500/10"}`,children:[u?e.jsx($e,{className:"w-4 h-4 text-emerald-400"}):e.jsx(la,{className:"w-4 h-4 text-red-400"}),e.jsxs("span",{className:`text-sm font-semibold ${u?"text-emerald-400":"text-red-400"}`,children:[o,"%"]})]}),e.jsx("span",{className:"text-sm text-graphite-400",children:"vs mÃªs anterior"})]}),N&&e.jsx("div",{className:"flex items-end gap-1 h-12 mt-4",children:N.map((h,w)=>{const S=Math.max(...N),b=h/S*100;return e.jsx(g.div,{initial:{height:0},animate:{height:`${b}%`},transition:{delay:m+.5+w*.02,duration:.3},className:`flex-1 bg-gradient-to-t ${f.bg} rounded-sm opacity-70 hover:opacity-100 transition-opacity`},w)})}),c!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-graphite-400 mb-2",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{className:f.text,children:[c,"%"]})]}),e.jsx("div",{className:"h-2 bg-graphite-800 rounded-full overflow-hidden",children:e.jsx(g.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:m+.7,duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${f.bg} relative overflow-hidden`,children:e.jsx(g.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})})})]})]})]})}const Ya=({active:t,payload:n,label:o})=>t&&n&&n.length?e.jsxs(g.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-charcoal-900/95 backdrop-blur-xl border border-graphite-800 rounded-2xl p-4 shadow-xl",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-3",children:o}),n.map((i,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-6 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),e.jsx("span",{className:"text-xs text-graphite-400",children:i.name})]}),e.jsx("span",{className:"text-sm font-bold text-white",children:i.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})})]},r))]}):null;function we({period:t="Ano",cnpj:n="26888098000159",selectedMonth:o}){const[i,r]=x.useState([{month:"Jan",receita:0,despesa:0,saldo:0},{month:"Fev",receita:0,despesa:0,saldo:0},{month:"Mar",receita:0,despesa:0,saldo:0},{month:"Abr",receita:0,despesa:0,saldo:0},{month:"Mai",receita:0,despesa:0,saldo:0},{month:"Jun",receita:0,despesa:0,saldo:0},{month:"Jul",receita:0,despesa:0,saldo:0},{month:"Ago",receita:0,despesa:0,saldo:0},{month:"Set",receita:0,despesa:0,saldo:0},{month:"Out",receita:0,despesa:0,saldo:0},{month:"Nov",receita:0,despesa:0,saldo:0},{month:"Dez",receita:0,despesa:0,saldo:0}]);x.useEffect(()=>{s()},[t,n,o]);const s=async()=>{try{const m=await A.getDRE(n);if(!m||m.length===0)return;const c=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],N={},[f]=o?o.split("-").map(Number):[new Date().getFullYear()],u=f;c.forEach(h=>{N[h]={month:h,receita:0,despesa:0,saldo:0}}),m.forEach(h=>{const w=new Date(h.data);if(w.getFullYear()!==u)return;const S=w.getMonth(),b=c[S];h.natureza==="receita"?N[b].receita+=h.valor:h.natureza==="despesa"&&(N[b].despesa+=Math.abs(h.valor))}),Object.values(N).forEach(h=>{h.saldo=h.receita-h.despesa});const y=c.map(h=>N[h]);r(y)}catch(m){console.error("Erro ao carregar dados de fluxo de caixa:",m)}};return e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"neomorphic neomorphic-hover rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Fluxo de Caixa"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Receitas vs Despesas (2024)"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Receita"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Despesa"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Saldo"})]})]})]}),e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"h-80",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(pe,{data:t==="Ano"?i:t==="MÃªs"?i.slice(-4):t==="Semana"?i.slice(-2):i.slice(-1),margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorReceita",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorDespesa",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorSaldo",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ff7a00",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#ff7a00",stopOpacity:0})]})]}),e.jsx(X,{strokeDasharray:"3 3",stroke:"#2a2a2a",opacity:.3}),e.jsx(W,{dataKey:"month",stroke:"#6d6d6d",tick:{fill:"#888888",fontSize:12},tickLine:!1}),e.jsx(Z,{stroke:"#6d6d6d",tick:{fill:"#888888",fontSize:12},tickLine:!1,tickFormatter:m=>m>=1e6?`R$ ${(m/1e6).toFixed(1)}M`:m>=1e3?`R$ ${(m/1e3).toFixed(0)}k`:`R$ ${m}`}),e.jsx(K,{content:e.jsx(Ya,{}),cursor:{stroke:"#ff7a00",strokeWidth:1}}),e.jsx(H,{type:"monotone",dataKey:"receita",name:"Receita",stroke:"#10b981",strokeWidth:2,fill:"url(#colorReceita)",animationDuration:1500}),e.jsx(H,{type:"monotone",dataKey:"despesa",name:"Despesa",stroke:"#ef4444",strokeWidth:2,fill:"url(#colorDespesa)",animationDuration:1500}),e.jsx(H,{type:"monotone",dataKey:"saldo",name:"Saldo",stroke:"#ff7a00",strokeWidth:3,fill:"url(#colorSaldo)",animationDuration:1500})]})})}),e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-graphite-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Total Receita"}),e.jsx("p",{className:"text-lg font-bold text-emerald-400",children:"R$ 8.490.000"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Total Despesa"}),e.jsx("p",{className:"text-lg font-bold text-red-400",children:"R$ 4.780.000"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Saldo LÃ­quido"}),e.jsx("p",{className:"text-lg font-bold text-gold-400",children:"R$ 3.710.000"})]})]})]})}function Xa(){const[t,n]=x.useState(!1),[o,i]=x.useState(!0);return e.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"neomorphic rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white font-display mb-1",children:"CartÃ£o Corporativo"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Limite e saldo disponÃ­vel"})]}),e.jsxs(g.div,{animate:{rotateY:t?180:0},transition:{duration:.6,type:"spring"},className:"relative preserve-3d cursor-pointer",onClick:()=>n(!t),style:{transformStyle:"preserve-3d"},children:[e.jsx(g.div,{className:"backface-hidden relative",style:{backfaceVisibility:"hidden"},children:e.jsxs("div",{className:"bg-gradient-to-br from-gold-500 via-gold-600 to-gold-700 rounded-2xl p-8 shadow-2xl shadow-gold-500/20 relative overflow-hidden group",children:[e.jsx(g.div,{className:"absolute inset-0 opacity-20",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),e.jsx(g.div,{className:"absolute -inset-1 bg-gradient-to-r from-gold-400 to-gold-600 rounded-3xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-500",style:{zIndex:-1}}),e.jsxs("div",{className:"relative z-10 flex items-start justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 font-medium mb-1",children:"Conta Empresarial"}),e.jsx(g.p,{className:"text-2xl font-bold text-white font-display",animate:{opacity:o?1:0},children:o?"R$ 2.847.920,00":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>{r.stopPropagation(),i(!o)},className:"p-2 rounded-xl bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors",children:o?e.jsx(ca,{className:"w-5 h-5 text-white"}):e.jsx(da,{className:"w-5 h-5 text-white"})})]}),e.jsxs(g.div,{whileHover:{scale:1.05,rotate:5},className:"w-12 h-10 rounded-lg bg-gradient-to-br from-yellow-200 to-yellow-400 mb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-1 border border-yellow-600/30 rounded-md"}),e.jsx("div",{className:"absolute inset-2 border border-yellow-600/20 rounded-sm"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-white text-lg font-mono tracking-wider",children:"â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 8492"}),e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>r.stopPropagation(),className:"p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(ma,{className:"w-4 h-4 text-white"})})]})}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Titular"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"BPO FINANCIAL LTDA"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Validade"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"12/28"})]}),e.jsxs(g.div,{whileHover:{scale:1.1},className:"flex flex-col items-end",children:[e.jsx(xa,{className:"w-8 h-8 text-white/90"}),e.jsx("span",{className:"text-[10px] text-white/70 font-bold mt-1",children:"CORPORATE"})]})]})]})}),e.jsx(g.div,{className:"absolute inset-0 backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsxs("div",{className:"bg-gradient-to-br from-charcoal-900 to-charcoal-950 rounded-3xl p-6 shadow-2xl h-full",children:[e.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-graphite-900 to-graphite-800 mt-4 mb-6 rounded-lg"}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"CVV"}),e.jsx("p",{className:"text-lg font-mono font-bold text-white",children:"â€¢â€¢â€¢"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"CÃ³digo de SeguranÃ§a"}),e.jsx("p",{className:"text-xs text-white/50",children:"NÃ£o compartilhe"})]})]})}),e.jsxs("div",{className:"space-y-3 text-xs text-white/60",children:[e.jsx("p",{children:"Este cartÃ£o Ã© de uso exclusivo corporativo"}),e.jsx("p",{children:"Em caso de perda, bloqueie imediatamente"}),e.jsx("p",{className:"text-gold-400 font-semibold",children:"Suporte: 0800 XXX XXXX"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-white/50",children:"MastercardÂ® Corporate"}),e.jsx("span",{className:"text-xs text-white/50",children:"ID: #BPO-2024-8492"})]})]})})]}),e.jsx(g.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-xs text-graphite-400 mt-3",children:"Clique no cartÃ£o para visualizar o verso"})]})}const Wa={success:{label:"ConcluÃ­do",color:"emerald",bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20"},pending:{label:"Pendente",color:"gold",bg:"bg-gold-500/10",text:"text-gold-400",border:"border-gold-500/20"},failed:{label:"Falhou",color:"red",bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20"}};function Ke(){const[t,n]=x.useState([]),[o,i]=x.useState(""),[r,s]=x.useState([]),[m,c]=x.useState(!0),[N,f]=x.useState("");return x.useEffect(()=>{(async()=>{try{const u=await A.getCompanies();n(u||[]);const y=(u||[]).find(S=>String(S.cnpj||"").replace(/^0+/,"").endsWith("0159"))?.cnpj,h=(u||[]).find(S=>String(S.grupo_empresarial||"").toLowerCase().includes("volpe"))?.cnpj,w=y||h||u&&u[0]?.cnpj||"";i(w)}catch{f("Falha ao carregar empresas")}})()},[]),x.useEffect(()=>{o&&(c(!0),f(""),(async()=>{try{const u=await A.getDFC(o);s(Array.isArray(u)?u:[])}catch{f("Falha ao carregar extrato")}finally{c(!1)}})())},[o]),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"neomorphic neomorphic-hover border border-graphite-800/30 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"p-8 border-b border-graphite-800/30",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white font-display",children:"TransaÃ§Ãµes Recentes"}),e.jsx("p",{className:"text-sm text-graphite-400 mt-1",children:"Ãšltimas movimentaÃ§Ãµes financeiras"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-graphite-400"}),e.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-9 pr-3 py-2 neomorphic-inset border border-graphite-800/20 rounded-xl text-sm text-white placeholder-graphite-500 focus:outline-none focus:border-gold-500 transition-all w-48"})]}),e.jsxs("select",{className:"px-4 py-2 neomorphic-inset border border-graphite-800/20 rounded-xl text-sm text-white focus:outline-none focus:border-gold-500 transition-all",children:[e.jsx("option",{children:"Todos"}),e.jsx("option",{children:"Hoje"}),e.jsx("option",{children:"Esta Semana"}),e.jsx("option",{children:"Este MÃªs"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-graphite-800",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"DescriÃ§Ã£o"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Saldo"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"AÃ§Ãµes"})]})}),e.jsxs("tbody",{children:[(m?[]:r).map((u,y)=>{const h=(u.entrada||0)-(u.saida||0),w=h>=0?"income":"expense",S=Wa[w==="income"?"success":"pending"];return e.jsxs(g.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+y*.05},whileHover:{backgroundColor:"rgba(255, 122, 0, 0.03)"},className:"border-b border-graphite-800/50 last:border-0 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g.div,{whileHover:{scale:1.1,rotate:5},className:"w-10 h-10 rounded-xl bg-gradient-to-br from-graphite-800 to-graphite-900 flex items-center justify-center text-xl group-hover:shadow-lg transition-shadow",children:"ðŸ’¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:u.descricao||"LanÃ§amento"}),e.jsx("p",{className:"text-xs text-graphite-400",children:w==="income"?"Entrada":"SaÃ­da"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm text-graphite-300",children:u.data||"-"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1 rounded-lg ${w==="income"?"bg-emerald-500/10":"bg-red-500/10"}`,children:w==="income"?e.jsx($e,{className:"w-4 h-4 text-emerald-400"}):e.jsx(pa,{className:"w-4 h-4 text-red-400"})}),e.jsxs("span",{className:`text-sm font-bold ${w==="income"?"text-emerald-400":"text-red-400"}`,children:[h>0?"+":"",Number(h).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(g.span,{whileHover:{scale:1.05},className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-semibold border ${S.bg} ${S.text} ${S.border}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${S.text.replace("text-","bg-")} mr-2`}),Number(u.saldo||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-2 rounded-lg hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all",children:e.jsx(ua,{className:"w-4 h-4"})})})]},u.id||y)}),!m&&r.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-graphite-400",children:["Nenhum lanÃ§amento encontrado para ",o||"empresa"]})})]})]})}),e.jsxs("div",{className:"p-6 border-t border-graphite-800 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-graphite-400",children:[m?"Carregando...":`Mostrando ${r.length} lanÃ§amentos`," ",o&&e.jsxs("span",{className:"text-white font-semibold",children:["â€¢ ",o]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:o,onChange:u=>i(u.target.value),className:"px-4 py-2 bg-graphite-800 text-white rounded-xl text-sm",children:[e.jsx("option",{value:"",children:"Selecione CNPJ"}),t.map(u=>e.jsxs("option",{value:u.cnpj,children:[u.cliente_nome," â€¢ ",u.cnpj]},u.cnpj))]})})]})]})}function Za({cnpj:t="26888098000159",selectedMonth:n}){const[o,i]=x.useState([{name:"ServiÃ§os BPO",value:58e4,color:"#ff7a00",percentage:45},{name:"Consultoria",value:32e4,color:"#10b981",percentage:25},{name:"Software",value:25e4,color:"#3b82f6",percentage:20},{name:"Outros",value:13e4,color:"#8b5cf6",percentage:10}]),[r,s]=x.useState(73),[m,c]=x.useState(8.2);x.useEffect(()=>{N()},[t,n]);const N=async()=>{try{const u=await A.getDRE(t);if(!u||u.length===0)return;const y={},[h]=n?n.split("-").map(Number):[new Date().getFullYear()],w=h;u.forEach(v=>{if(new Date(v.data).getFullYear()===w&&v.natureza==="receita"&&v.valor>0){const l=v.conta.split("-")[0].substring(0,1),D=l==="3"?"ServiÃ§os BPO":l==="4"?"Consultoria":l==="5"?"Software":"Outros";y[D]||(y[D]=0),y[D]+=v.valor}});const S=Object.values(y).reduce((v,C)=>v+C,0),b=["#ff7a00","#10b981","#3b82f6","#8b5cf6"],R=Object.entries(y).map(([v,C],l)=>({name:v,value:C,color:b[l]||"#8b5cf6",percentage:Math.round(C/S*100)})).sort((v,C)=>C.value-v.value);if(R.length>0){i(R);const C=Math.round(S/8e5*100);s(Math.min(C,100))}}catch(u){console.error("Erro ao carregar dados de receita:",u)}},f=o.reduce((u,y)=>u+y.value,0);return e.jsxs(g.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.3},className:"neomorphic neomorphic-hover rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"DistribuiÃ§Ã£o de Receita"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Por categoria de serviÃ§o"})]}),e.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[e.jsxs("svg",{width:"280",height:"180",viewBox:"0 0 280 180",className:"transform -rotate-0",children:[e.jsx("path",{d:"M 40 140 A 100 100 0 0 1 240 140",fill:"none",stroke:"#2a2a2a",strokeWidth:"24",strokeLinecap:"round"}),e.jsx(g.path,{d:"M 40 140 A 100 100 0 0 1 240 140",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"24",strokeLinecap:"round",strokeDasharray:"314",initial:{strokeDashoffset:314},animate:{strokeDashoffset:314-314*r/100},transition:{duration:2,ease:"easeOut"}}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#10b981"}),e.jsx("stop",{offset:"50%",stopColor:"#ff7a00"}),e.jsx("stop",{offset:"100%",stopColor:"#ef4444"})]})})]}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/4 text-center",children:e.jsxs(g.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring"},children:[e.jsxs("p",{className:"text-4xl font-bold text-white font-display mb-1",children:[r,"%"]}),e.jsx("p",{className:"text-xs text-graphite-400",children:"Meta Atingida"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[e.jsx(Y,{className:"w-4 h-4 text-emerald-400"}),e.jsxs("span",{className:"text-sm font-semibold text-emerald-400",children:["+",m.toFixed(1),"%"]})]})]})})]}),e.jsx("div",{className:"space-y-3",children:o.map((u,y)=>e.jsxs(g.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9+y*.1},className:"group/item",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g.div,{whileHover:{scale:1.2},className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),e.jsx("span",{className:"text-sm text-graphite-300 group-hover/item:text-white transition-colors",children:u.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-bold text-white",children:u.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})}),e.jsxs("span",{className:"text-xs text-graphite-400 ml-2",children:["(",u.percentage,"%)"]})]})]}),e.jsx("div",{className:"h-2 bg-graphite-800 rounded-full overflow-hidden",children:e.jsx(g.div,{initial:{width:0},animate:{width:`${u.percentage}%`},transition:{delay:1+y*.1,duration:.8,ease:"easeOut"},className:"h-full rounded-full relative",style:{backgroundColor:u.color},children:e.jsx(g.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear",delay:1.5+y*.1},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})})]},u.name))}),e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"mt-6 pt-6 border-t border-graphite-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-graphite-400",children:"Total de Receita"}),e.jsx("span",{className:"text-lg font-bold text-gold-400",children:f.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})})]})]})}function Qa(t){return["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][t.getMonth()]}function es({period:t="Ano",session:n}){const[o,i]=x.useState([]),[r,s]=x.useState(""),[m,c]=x.useState([]),[N,f]=x.useState(!0),[u,y]=x.useState("");x.useEffect(()=>{(async()=>{try{const v=await A.getCompanies();i(v||[]),s("26888098000159")}catch{y("Falha ao carregar empresas")}})()},[]),x.useEffect(()=>{r&&(f(!0),(async()=>{try{const v=await A.getDFC(r);c(Array.isArray(v)?v:[])}finally{f(!1)}})())},[r]);const{receitaTotal:h,despesasTotal:w,lucro:S}=x.useMemo(()=>{const v=m.reduce((C,l)=>(C.receitaTotal+=Number(l.entrada||0),C.despesasTotal+=Number(l.saida||0),C),{receitaTotal:0,despesasTotal:0});return{...v,lucro:v.receitaTotal-v.despesasTotal}},[m]),b=x.useMemo(()=>{const v=new Map;m.forEach(l=>{const D=l.data?new Date(l.data):new Date,M=Qa(D),I=v.get(M)||{month:M,receita:0,despesas:0};I.receita+=Number(l.entrada||0),I.despesas+=Number(l.saida||0),v.set(M,I)});const C=Array.from(v.values());return t==="Ano"?C:t==="MÃªs"?C.slice(-1):t==="Semana"?C.slice(-1).map(l=>({...l,month:"Semana"})):C.slice(-1).map(l=>({...l,month:"Hoje"}))},[m,t]),R=[{name:"Receita",value:h,delta:0},{name:"Despesas",value:w,delta:0},{name:"Lucro",value:S,delta:0}];return e.jsxs(Oa,{numItemsSm:1,numItemsMd:2,numItemsLg:3,className:"gap-6",children:[R.map(v=>e.jsxs(je,{decoration:"top",decorationColor:"orange",className:"rounded-3xl bg-card border border-border shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ve,{children:v.name}),e.jsxs(Pa,{deltaType:v.delta>=0?"moderateIncrease":"moderateDecrease",children:[v.delta,"%"]})]}),e.jsxs(ka,{children:["R$ ",Number(v.value).toLocaleString("pt-BR")]}),e.jsx(Ne,{className:"mt-2 text-sm text-muted-foreground",children:N?"Carregando...":`Empresa ${r||""}`})]},v.name)),e.jsxs(je,{className:"rounded-3xl col-span-1 md:col-span-2 bg-card border border-border shadow-card",children:[e.jsx(ve,{children:"EvoluÃ§Ã£o Mensal"}),e.jsx(Ne,{className:"text-sm text-muted-foreground",children:"Receita vs Despesas"}),e.jsx("div",{className:"mt-4 h-56",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(ue,{data:b,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"barReceita",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"10%",stopColor:"#ff7a00",stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:"#ff7a00",stopOpacity:.4})]}),e.jsxs("linearGradient",{id:"barDespesas",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"10%",stopColor:"#38bdf8",stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:"#38bdf8",stopOpacity:.4})]}),e.jsx("filter",{id:"barShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3","flood-color":"#000","flood-opacity":"0.35"})})]}),e.jsx(X,{stroke:"rgba(200,200,200,0.12)",vertical:!1}),e.jsx(W,{dataKey:"month",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(Z,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12},tickFormatter:v=>`R$ ${Number(v).toLocaleString("pt-BR")}`}),e.jsx(K,{contentStyle:{background:"#11161C",border:"1px solid #1B232C"},formatter:v=>`R$ ${Number(v).toLocaleString("pt-BR")}`}),e.jsx(oe,{}),e.jsx(ne,{dataKey:"receita",name:"Receita",fill:"url(#barReceita)",radius:[8,8,0,0],filter:"url(#barShadow)"}),e.jsx(ne,{dataKey:"despesas",name:"Despesas",fill:"url(#barDespesas)",radius:[8,8,0,0],filter:"url(#barShadow)"})]})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Empresa/CNPJ"}),e.jsxs("select",{value:r,onChange:v=>s(v.target.value),className:"mt-1 px-3 py-2 bg-graphite-900 border border-graphite-800 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"Selecione"}),o.map(v=>e.jsxs("option",{value:v.cnpj,children:[v.cliente_nome," â€¢ ",v.cnpj]},v.cnpj))]})]})]})]})}function as(){const[t,n]=x.useState([]),[o,i]=x.useState(""),[r,s]=x.useState(0),[m,c]=x.useState(0),[N,f]=x.useState(!0),[u,y]=x.useState("");return x.useEffect(()=>{(async()=>{try{const h=await A.getCompanies();n(h||[]);const w=(h||[]).find(R=>String(R.cnpj||"").replace(/^0+/,"").endsWith("0159"))?.cnpj,S=(h||[]).find(R=>String(R.cliente_nome||"").toLowerCase().includes("volpe")||String(R.grupo_empresarial||"").toLowerCase().includes("volpe"))?.cnpj,b=w||S||h&&h[0]?.cnpj||"";i(b)}catch{y("Falha ao carregar empresas")}})()},[]),x.useEffect(()=>{o&&(f(!0),(async()=>{try{const h=await A.getDRE(o);s(Array.isArray(h)?h.length:0);const w=await A.getDFC(o);c(Array.isArray(w)?w.length:0)}catch{y("Falha ao carregar relatÃ³rios")}finally{f(!1)}})())},[o]),e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"RelatÃ³rios Gerenciais"}),u&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:u}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"DRE Consolidada"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N?"Carregando...":`${r} linhas`})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"Fluxo de Caixa"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N?"Carregando...":`${m} lanÃ§amentos`})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"Receita por Cliente"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N?"Carregando...":`${t.length} clientes`})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Empresa/CNPJ"}),e.jsxs("select",{value:o,onChange:h=>i(h.target.value),className:"mt-1 px-3 py-2 bg-graphite-900 border border-graphite-800 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"Selecione"}),t.map(h=>e.jsxs("option",{value:h.cnpj,children:[h.cliente_nome," â€¢ ",h.cnpj]},h.cnpj))]})]})]})})}function ss(){const[t,n]=x.useState([]),[o,i]=x.useState(!0),[r,s]=x.useState("");return x.useEffect(()=>{(async()=>{try{const m=await A.getCompanies();n(Array.isArray(m)?m:[])}catch{s("Falha ao carregar clientes")}finally{i(!1)}})()},[]),e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes â€¢ Dados Reais"}),r&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:r}),e.jsx("div",{className:"mt-4 rounded-2xl border border-border overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-graphite-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Cliente"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Grupo"})]})}),e.jsxs("tbody",{children:[(o?[]:t).map((m,c)=>e.jsxs("tr",{className:"border-t border-border",children:[e.jsx("td",{className:"p-3",children:m.cliente_nome}),e.jsx("td",{className:"p-3",children:m.cnpj}),e.jsx("td",{className:"p-3",children:m.grupo_empresarial})]},c)),!o&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"p-3 text-sm text-muted-foreground",colSpan:3,children:"Nenhum cliente encontrado"})})]})]})})]})}function q(...t){return $a(Ta(t))}function L({className:t,...n}){return e.jsx("div",{className:q("bg-card border border-border rounded-3xl shadow-card transition-all duration-300",t),...n})}function B({className:t,...n}){return e.jsx("div",{className:q("flex items-center justify-between p-4 pb-2",t),...n})}function V({className:t,...n}){return e.jsx("h3",{className:q("text-sm text-foreground",t),...n})}function _({className:t,...n}){return e.jsx("div",{className:q("p-4 pt-2",t),...n})}const ts=ba,rs=ja,Ue=x.forwardRef(({className:t,...n},o)=>e.jsx(Fe,{ref:o,className:"inline-flex items-center justify-between gap-2 rounded-lg border border-[#1B232C] bg-[#0a0f14] px-3 py-1.5 text-xs text-gray-300 shadow-sm hover:bg-[#0f141b] focus:outline-none",...n}));Ue.displayName=Fe.displayName;const Ye=x.forwardRef(({className:t,children:n,position:o="popper",...i},r)=>e.jsx(ha,{children:e.jsx(Le,{ref:r,className:"z-50 min-w-[8rem] overflow-hidden rounded-xl border border-[#1B232C] bg-[#0a0f14] p-1 shadow-xl",position:o,...i,children:e.jsx(ga,{className:"p-1",children:n})})}));Ye.displayName=Le.displayName;const Xe=x.forwardRef(({className:t,children:n,...o},i)=>e.jsx(Be,{ref:i,className:"relative flex w-full cursor-pointer select-none items-center rounded-lg px-3 py-2 text-xs text-gray-300 outline-none data-[highlighted]:bg-[#0f141b]",...o,children:e.jsx(fa,{children:n})}));Xe.displayName=Be.displayName;const he=va,de=x.forwardRef(({className:t,...n},o)=>e.jsx(Ve,{ref:o,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));de.displayName=Ve.displayName;const $=x.forwardRef(({className:t,...n},o)=>e.jsx(_e,{ref:o,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));$.displayName=_e.displayName;const F=x.forwardRef(({className:t,...n},o)=>e.jsx(Ge,{ref:o,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));F.displayName=Ge.displayName;const Ce=t=>String(t).padStart(2,"0"),Se=t=>{const n=new Set;if(t.forEach(r=>{if(!r)return;const s=r.slice(0,7);/^\d{4}-\d{2}$/.test(s)&&n.add(s)}),n.size===0){const r=new Date().getFullYear().toString();return Array.from({length:12},(s,m)=>`${r}-${Ce(m+1)}`)}const o=Array.from(new Set(Array.from(n).map(r=>r.split("-")[0]))).sort(),i=[];return o.forEach(r=>{for(let s=1;s<=12;s+=1)i.push(`${r}-${Ce(s)}`)}),i};function Ee({className:t}){const[n,o]=x.useState([]),[i,r]=x.useState("26888098000159"),[s,m]=x.useState([]),[c,N]=x.useState([]),[f,u]=x.useState(!1);x.useEffect(()=>{y()},[]),x.useEffect(()=>{i&&h(i)},[i]);const y=async()=>{try{const p=(await A.getCompanies()).filter(d=>d.cliente_nome?.toLowerCase().includes("volpe")||String(d.cnpj||"").startsWith("26888098")).map(d=>({...d,cnpj:d.cnpj?d.cnpj.replace(/^0+/,""):d.cnpj})).sort((d,j)=>{const E=String(d.cnpj||"")==="26888098000159"?-1:1,P=String(j.cnpj||"")==="26888098000159"?-1:1;return E-P});o(p)}catch(a){console.error("Erro ao carregar empresas:",a)}},h=async a=>{u(!0);try{console.log("ðŸ” Buscando dados para CNPJ:",a);const[p,d]=await Promise.all([A.getDRE(a),A.getDFC(a)]);console.log("âœ… DRE recebido:",p?.length||0,"registros"),console.log("âœ… DFC recebido:",d?.length||0,"registros"),p&&p.length>0&&console.log("ðŸ“ Amostra DRE:",p[0]),d&&d.length>0&&console.log("ðŸ“ Amostra DFC:",d[0]);const j=p&&p.length>0?p:w(),E=d&&d.length>0?d:S();m(j),N(E)}catch(p){console.error("âŒ Erro ao carregar dados:",p),m(w()),N(S())}finally{u(!1)}},w=()=>{const a=["2024-09","2024-10","2024-11","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08","2025-09","2025-10","2025-11"],p=[{conta:"Receita de ServiÃ§os BPO",natureza:"receita",baseValue:85e4},{conta:"Receita de Consultoria",natureza:"receita",baseValue:32e4},{conta:"Outras Receitas Operacionais",natureza:"receita",baseValue:45e3},{conta:"SalÃ¡rios e Encargos",natureza:"despesa",baseValue:-52e4},{conta:"ServiÃ§os de Terceiros",natureza:"despesa",baseValue:-18e4},{conta:"Despesas Administrativas",natureza:"despesa",baseValue:-95e3},{conta:"Despesas com TI e Software",natureza:"despesa",baseValue:-78e3},{conta:"Aluguel e CondomÃ­nio",natureza:"despesa",baseValue:-42e3},{conta:"Despesas com Viagens",natureza:"despesa",baseValue:-28e3},{conta:"Marketing e Publicidade",natureza:"despesa",baseValue:-35e3},{conta:"Treinamento e CapacitaÃ§Ã£o",natureza:"despesa",baseValue:-22e3},{conta:"Despesas Financeiras",natureza:"despesa",baseValue:-18e3}],d=[];return a.forEach(j=>{p.forEach(E=>{const P=.85+Math.random()*.3;d.push({data:`${j}-15`,conta:E.conta,natureza:E.natureza,valor:Math.round(E.baseValue*P)})})}),d},S=()=>{const a=["2024-09","2024-10","2024-11","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08","2025-09","2025-10","2025-11"],p=[{descricao:"Recebimento de Clientes",entrada:98e4,saida:0},{descricao:"Pagamento de Fornecedores",entrada:0,saida:42e4},{descricao:"Pagamento de SalÃ¡rios",entrada:0,saida:52e4},{descricao:"Pagamento de Impostos",entrada:0,saida:125e3},{descricao:"Pagamento de Aluguel",entrada:0,saida:42e3},{descricao:"Investimentos em TI",entrada:0,saida:85e3},{descricao:"EmprÃ©stimos BancÃ¡rios",entrada:15e4,saida:0},{descricao:"AmortizaÃ§Ã£o de DÃ­vidas",entrada:0,saida:65e3}],d=[];return a.forEach(j=>{p.forEach(E=>{const P=.9+Math.random()*.2;d.push({data:`${j}-15`,descricao:E.descricao,entrada:Math.round(E.entrada*P),saida:Math.round(E.saida*P)})})}),d},b=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),R=n.find(a=>a.cnpj===i)?.cliente_nome||"Empresa",v=Se(s.map(a=>a.data)),C=Se(c.map(a=>a.data));console.log("ðŸ“Š DRE Data:",s.length,"registros"),console.log("ðŸ“Š DFC Data:",c.length,"registros"),console.log("ðŸ“… DRE Months:",v),console.log("ðŸ“… DFC Months:",C);const l=s.reduce((a,p)=>{const d=p.natureza||"Outros";return a[d]=(a[d]||0)+Number(p.valor||0),a},{}),D=(()=>{const a={};return s.forEach(p=>{const d=p.data?p.data.slice(0,7):v[0],j=p.natureza||"Outros",E=Number(p.valor||0);a[j]||(a[j]={}),a[j][d]=(a[j][d]||0)+E}),v.map(p=>{const d={month:p};return Object.entries(a).forEach(([j,E])=>{d[j]=E[p]||0}),d})})(),M=(()=>{const a={};return c.forEach(p=>{const d=p.data?p.data.slice(0,7):C[0];a[d]||(a[d]={entradas:0,saidas:0}),a[d].entradas+=Number(p.entrada||0),a[d].saidas+=Number(p.saida||0)}),C.map(p=>{const d=a[p]?.entradas||0,j=a[p]?.saidas||0;return{month:p,entradas:d,saidas:j,saldo:d-j}})})(),I=M.reduce((a,p)=>(a.entradas+=p.entradas,a.saidas+=p.saidas,a.saldo+=p.saldo,a),{entradas:0,saidas:0,saldo:0}),k=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],z=(()=>{if(!s||s.length===0)return[];const a={};return s.forEach(p=>{const d=p.data?p.data.slice(0,7):"",j=p.conta||"Outros",E=p.natureza||"Outros",P=Number(p.valor||0);a[j]||(a[j]={conta:j,natureza:E,total:0},v.forEach(U=>{a[j][U]=0})),d&&(a[j][d]===void 0&&(a[j][d]=0),a[j][d]+=P),a[j].total+=P}),Object.values(a).filter(p=>Math.abs(p.total)>0).sort((p,d)=>Math.abs(d.total)-Math.abs(p.total)).slice(0,50)})(),T=(()=>{if(!c||c.length===0)return[];const a={};return c.forEach(p=>{const d=p.data?p.data.slice(0,7):"",j=p.descricao||"Outros",E=Number(p.entrada||0),P=Number(p.saida||0);a[j]||(a[j]={categoria:j,totalEntradas:0,totalSaidas:0,saldo:0},C.forEach(U=>{a[j][`${U}_entrada`]=0,a[j][`${U}_saida`]=0})),d&&(a[j][`${d}_entrada`]===void 0&&(a[j][`${d}_entrada`]=0),a[j][`${d}_saida`]===void 0&&(a[j][`${d}_saida`]=0),a[j][`${d}_entrada`]+=E,a[j][`${d}_saida`]+=P),a[j].totalEntradas+=E,a[j].totalSaidas+=P,a[j].saldo+=E-P}),Object.values(a).filter(p=>Math.abs(p.saldo)>0||p.totalEntradas>0||p.totalSaidas>0).sort((p,d)=>Math.abs(d.saldo)-Math.abs(p.saldo)).slice(0,30)})(),O=s.slice(0,100).map(a=>({data:a.data,tipo:"DRE",conta:a.conta,natureza:a.natureza,valor:a.valor}));return e.jsxs("div",{className:t,children:[e.jsx("div",{className:"mb-6",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{className:"text-lg",children:"AnÃ¡lises - SeleÃ§Ã£o de Empresa"})}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Empresa:"}),e.jsxs(ts,{value:i,onValueChange:r,children:[e.jsx(Ue,{className:"w-[300px]",children:e.jsx(rs,{placeholder:"Selecione uma empresa"})}),e.jsx(Ye,{children:n.map(a=>e.jsxs(Xe,{value:a.cnpj,children:[a.cliente_nome," (",a.cnpj,")"]},a.cnpj))})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Visualizando: ",R]})]})})]})}),f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando dados..."})}):e.jsxs(he,{defaultValue:"dre",className:"w-full",children:[e.jsxs(de,{className:"grid w-full grid-cols-4",children:[e.jsx($,{value:"dre",children:"DRE"}),e.jsx($,{value:"dfc",children:"DFC"}),e.jsx($,{value:"lancamentos",children:"LanÃ§amentos"}),e.jsx($,{value:"graficos",children:"GrÃ¡ficos"})]}),e.jsx(F,{value:"dre",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DRE - DemonstraÃ§Ã£o de Resultados por MÃªs"})}),e.jsx(_,{children:s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left sticky left-0 bg-muted z-10",children:"Conta"}),e.jsx("th",{className:"border p-2 text-left",children:"Natureza"}),v.map(a=>e.jsx("th",{className:"border p-2 text-right whitespace-nowrap",children:a.slice(5)},a)),e.jsx("th",{className:"border p-2 text-right font-bold bg-blue-50",children:"Total"})]})}),e.jsx("tbody",{children:z.length>0?z.map((a,p)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2 text-left sticky left-0 bg-background font-medium text-xs",children:a.conta}),e.jsx("td",{className:"border p-2 text-left",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.natureza==="receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.natureza})}),v.map(d=>{const j=a[d]||0;return e.jsx("td",{className:"border p-2 text-right text-xs",children:Math.abs(j)>.01?b(j):"-"},d)}),e.jsx("td",{className:"border p-2 text-right font-bold bg-blue-50 text-xs",children:b(a.total)})]},p)):e.jsx("tr",{children:e.jsx("td",{colSpan:v.length+3,className:"border p-4 text-center text-muted-foreground",children:"Nenhum dado DRE disponÃ­vel"})})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-muted font-bold",children:[e.jsx("td",{className:"border p-2",colSpan:2,children:"TOTAIS"}),v.map(a=>{const p=z.reduce((d,j)=>d+(j[a]||0),0);return e.jsx("td",{className:"border p-2 text-right",children:b(p)},a)}),e.jsx("td",{className:"border p-2 text-right bg-blue-100",children:b(z.reduce((a,p)=>a+p.total,0))})]})})]})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado DRE disponÃ­vel para esta empresa"})})]})}),e.jsx(F,{value:"dfc",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DFC - DemonstraÃ§Ã£o de Fluxo de Caixa por MÃªs"})}),e.jsx(_,{children:c.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left sticky left-0 bg-muted z-10",children:"Categoria"}),C.map(a=>e.jsx("th",{className:"border p-2 text-center",colSpan:2,children:a.slice(5)},a)),e.jsx("th",{className:"border p-2 text-center bg-blue-50",colSpan:3,children:"Totais"})]}),e.jsxs("tr",{className:"bg-muted/50 text-xs",children:[e.jsx("th",{className:"border p-2"}),C.map(a=>e.jsxs(se.Fragment,{children:[e.jsx("th",{className:"border p-2 text-right text-green-700",children:"Entrada"}),e.jsx("th",{className:"border p-2 text-right text-red-700",children:"SaÃ­da"})]},a)),e.jsx("th",{className:"border p-2 text-right text-green-700 bg-green-50",children:"Entradas"}),e.jsx("th",{className:"border p-2 text-right text-red-700 bg-red-50",children:"SaÃ­das"}),e.jsx("th",{className:"border p-2 text-right text-blue-700 bg-blue-50",children:"Saldo"})]})]}),e.jsx("tbody",{children:T.length>0?T.map((a,p)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2 text-left sticky left-0 bg-background font-medium text-xs",children:a.categoria}),C.map(d=>{const j=a[`${d}_entrada`]||0,E=a[`${d}_saida`]||0;return e.jsxs(se.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right text-green-600 text-xs",children:Math.abs(j)>.01?b(j):"-"}),e.jsx("td",{className:"border p-2 text-right text-red-600 text-xs",children:Math.abs(E)>.01?b(E):"-"})]},d)}),e.jsx("td",{className:"border p-2 text-right text-green-700 bg-green-50 font-semibold text-xs",children:b(a.totalEntradas)}),e.jsx("td",{className:"border p-2 text-right text-red-700 bg-red-50 font-semibold text-xs",children:b(a.totalSaidas)}),e.jsx("td",{className:"border p-2 text-right text-blue-700 bg-blue-50 font-bold text-xs",children:b(a.saldo)})]},p)):e.jsx("tr",{children:e.jsx("td",{colSpan:C.length*2+4,className:"border p-4 text-center text-muted-foreground",children:"Nenhum dado DFC disponÃ­vel"})})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-muted font-bold",children:[e.jsx("td",{className:"border p-2",children:"TOTAIS"}),C.map(a=>{const p=T.reduce((j,E)=>j+(E[`${a}_entrada`]||0),0),d=T.reduce((j,E)=>j+(E[`${a}_saida`]||0),0);return e.jsxs(se.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right text-green-700",children:b(p)}),e.jsx("td",{className:"border p-2 text-right text-red-700",children:b(d)})]},a)}),e.jsx("td",{className:"border p-2 text-right bg-green-100 text-green-900",children:b(T.reduce((a,p)=>a+p.totalEntradas,0))}),e.jsx("td",{className:"border p-2 text-right bg-red-100 text-red-900",children:b(T.reduce((a,p)=>a+p.totalSaidas,0))}),e.jsx("td",{className:"border p-2 text-right bg-blue-100 text-blue-900",children:b(T.reduce((a,p)=>a+p.saldo,0))})]})})]})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado DFC disponÃ­vel para esta empresa"})})]})}),e.jsx(F,{value:"lancamentos",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"LanÃ§amentos Brutos - Ãšltimos 100 Registros"})}),e.jsx(_,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left",children:"Data"}),e.jsx("th",{className:"border p-2 text-left",children:"Tipo"}),e.jsx("th",{className:"border p-2 text-left",children:"Conta"}),e.jsx("th",{className:"border p-2 text-left",children:"Natureza"}),e.jsx("th",{className:"border p-2 text-right",children:"Valor"})]})}),e.jsx("tbody",{children:O.map((a,p)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2",children:a.data}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:a.tipo})}),e.jsx("td",{className:"border p-2",children:a.conta}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.natureza==="receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.natureza})}),e.jsx("td",{className:"border p-2 text-right font-mono",children:b(a.valor||0)})]},p))})]})})})]})}),e.jsx(F,{value:"graficos",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DRE - EvoluÃ§Ã£o Mensal"})}),e.jsx(_,{children:s.length>0?e.jsx("div",{className:"h-80",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(ue,{data:D,children:[e.jsx(X,{strokeDasharray:"3 3"}),e.jsx(W,{dataKey:"month"}),e.jsx(Z,{tickFormatter:a=>`R$ ${(a/1e3).toFixed(0)}k`}),e.jsx(K,{formatter:a=>b(a)}),e.jsx(oe,{}),Object.keys(l).map((a,p)=>e.jsx(ne,{dataKey:a,fill:k[p%k.length]},a))]})})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Sem dados"})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DFC - Fluxo de Caixa"})}),e.jsx(_,{children:c.length>0?e.jsx("div",{className:"h-80",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(pe,{data:M,children:[e.jsx(X,{strokeDasharray:"3 3"}),e.jsx(W,{dataKey:"month"}),e.jsx(Z,{tickFormatter:a=>`R$ ${(a/1e3).toFixed(0)}k`}),e.jsx(K,{formatter:a=>b(a)}),e.jsx(oe,{}),e.jsx(H,{type:"monotone",dataKey:"entradas",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),e.jsx(H,{type:"monotone",dataKey:"saidas",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6}),e.jsx(Ia,{type:"monotone",dataKey:"saldo",stroke:"#3b82f6",strokeWidth:2})]})})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Sem dados"})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DRE - Resumo por Natureza"})}),e.jsx(_,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([a,p])=>{const d=Number(p||0),j=Object.values(l).reduce((P,U)=>P+Math.abs(Number(U)),0),E=j>0?Math.abs(d)/j*100:0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:a}),e.jsx("span",{className:d>=0?"text-green-600":"text-red-600",children:b(d)})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${d>=0?"bg-green-500":"bg-red-500"}`,style:{width:`${E}%`}})}),e.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[E.toFixed(1),"%"]})]},a)})})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DFC - Resumo de Fluxo"})}),e.jsxs(_,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b(I.entradas)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Entradas"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:b(I.saidas)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"SaÃ­das"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b(I.saldo)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Saldo"})]})]}),e.jsx("div",{className:"h-48",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(Aa,{children:[e.jsxs(Ma,{data:[{name:"Entradas",value:I.entradas},{name:"SaÃ­das",value:Math.abs(I.saidas)}],cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:p})=>`${a} ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[e.jsx(be,{fill:"#10b981"}),e.jsx(be,{fill:"#ef4444"})]}),e.jsx(K,{formatter:a=>b(a)})]})})})]})]})]})})]})]})}function os(){return e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Extrato de LanÃ§amentos â€¢ Dados Reais"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registros financeiros consultados via Supabase"})]}),e.jsx(Ke,{})]})}const ns=za("inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 border",{variants:{variant:{default:"bg-card text-foreground border-border hover:bg-[#0f141b]",primary:"bg-primary text-primary-foreground border-transparent hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground border-transparent hover:bg-secondary/90",destructive:"bg-destructive text-destructive-foreground border-transparent hover:bg-destructive/90",success:"bg-success text-success-foreground border-transparent hover:bg-success/90",warning:"bg-warning text-warning-foreground border-transparent hover:bg-warning/90",info:"bg-info text-info-foreground border-transparent hover:bg-info/90",ghost:"bg-transparent text-foreground border-transparent hover:bg-muted/40",outline:"bg-transparent text-foreground border-border hover:bg-muted/30",accent:"bg-accent border-border text-accent-foreground data-[active=true]:bg-accent/90"},size:{default:"h-9 px-3 py-2",sm:"h-8 px-2",lg:"h-10 px-4",icon:"h-9 w-9 p-0"}},defaultVariants:{variant:"default",size:"default"}}),We=x.forwardRef(({className:t,variant:n,size:o,asChild:i=!1,...r},s)=>{const m=i?Na:"button";return e.jsx(m,{className:q(ns({variant:n,size:o,className:t})),ref:s,...r})});We.displayName="Button";const is={bpo:["bpo","terceirizaÃ§Ã£o","outsourcing","serviÃ§os","processos"],tecnologia:["software","tech","tecnologia","sistemas","digital","ti"],consultoria:["consultoria","consulting","advisory","gestÃ£o"],rh:["rh","recursos humanos","people","talentos","recrutamento"],financeiro:["financeira","crÃ©dito","banco","fundo","investimento"],saude:["saÃºde","hospital","clÃ­nica","mÃ©dico","farmÃ¡cia"],educacao:["educaÃ§Ã£o","escola","universidade","curso","ensino"],varejo:["varejo","loja","comÃ©rcio","mercado","shopping"],industria:["indÃºstria","fÃ¡brica","manufatura","produÃ§Ã£o"],logistica:["logÃ­stica","transporte","distribuiÃ§Ã£o","armazÃ©m"]},De={bpo:{descricao:"Empresa especializada em Business Process Outsourcing (BPO), oferecendo serviÃ§os de terceirizaÃ§Ã£o de processos de negÃ³cios, gestÃ£o administrativa, financeira e de recursos humanos",concorrentes:["Atento","Stefanini","TCS Brasil","Accenture","Teleperformance","Contax","Almaviva"],tendencias:["inteligÃªncia artificial processos empresariais","automaÃ§Ã£o RPA robÃ³tica","trabalho remoto hÃ­brido gestÃ£o","ESG sustentabilidade empresas","transformaÃ§Ã£o digital empresas","experiÃªncia do cliente CX"],palavrasChaveNoticias:["bpo","terceirizaÃ§Ã£o","outsourcing","processos de negÃ³cio","gestÃ£o empresarial"]},tecnologia:{descricao:"Empresa de tecnologia focada em desenvolvimento de software, soluÃ§Ãµes digitais e transformaÃ§Ã£o tecnolÃ³gica",concorrentes:["Microsoft","Oracle","SAP","Salesforce","Totvs","Senior"],tendencias:["inteligÃªncia artificial generativa","cloud computing nuvem","ciberseguranÃ§a proteÃ§Ã£o dados","blockchain web3","DevOps CI/CD","microserviÃ§os arquitetura"],palavrasChaveNoticias:["tecnologia","software","inovaÃ§Ã£o digital","transformaÃ§Ã£o digital","TI"]},consultoria:{descricao:"Consultoria empresarial especializada em estratÃ©gia, gestÃ£o e otimizaÃ§Ã£o de processos organizacionais",concorrentes:["McKinsey","BCG","Bain","Deloitte","PwC","EY","KPMG"],tendencias:["consultoria estratÃ©gica digital","transformaÃ§Ã£o organizacional","gestÃ£o de mudanÃ§as","excelÃªncia operacional","analytics big data","governanÃ§a corporativa"],palavrasChaveNoticias:["consultoria","estratÃ©gia empresarial","gestÃ£o organizacional","advisory"]},rh:{descricao:"Especialista em gestÃ£o de recursos humanos, recrutamento, seleÃ§Ã£o e desenvolvimento de talentos",concorrentes:["Randstad","Adecco","ManpowerGroup","Robert Half","Page Personnel"],tendencias:["people analytics dados RH","employee experience experiÃªncia colaborador","diversidade inclusÃ£o empresas","wellbeing saÃºde mental trabalho","upskilling reskilling talentos","employer branding marca empregadora"],palavrasChaveNoticias:["recursos humanos","gestÃ£o de talentos","recrutamento","people management"]},financeiro:{descricao:"InstituiÃ§Ã£o financeira focada em serviÃ§os bancÃ¡rios, crÃ©dito, investimentos e gestÃ£o financeira",concorrentes:["ItaÃº","Bradesco","Santander","Banco do Brasil","Nubank","BTG Pactual"],tendencias:["open banking open finance","fintechs pagamentos digitais","blockchain DeFi finanÃ§as","regulaÃ§Ã£o financeira BACEN","crÃ©dito digital anÃ¡lise risco","ESG investimentos sustentÃ¡veis"],palavrasChaveNoticias:["mercado financeiro","bancos","crÃ©dito","investimentos","finanÃ§as"]}};function ls(t,n){const o=`${t} ${n}`.toLowerCase();for(const[i,r]of Object.entries(is))for(const s of r)if(o.includes(s))return i;return"bpo"}async function Re(t,n,o){const i=ls(n,o),r=De[i]||De.bpo;return{cnpj:t,nomeEmpresa:n,grupoEmpresarial:o,segmentosPrincipais:[i],palavrasChave:r.palavrasChaveNoticias,descricaoNegocio:r.descricao,concorrentes:r.concorrentes,tendenciasRelevantes:r.tendencias}}function cs(t){return`${t.grupoEmpresarial} - ${t.descricaoNegocio}. A empresa atua principalmente no segmento de ${t.segmentosPrincipais.join(", ")}.`}const ge={bpo:{mercado:[{titulo:"Mercado de BPO cresce 18% no Brasil e deve movimentar R$ 156 bilhÃµes em 2025",resumo:"Setor de terceirizaÃ§Ã£o de processos apresenta forte expansÃ£o com empresas investindo em automaÃ§Ã£o e IA. Demanda por serviÃ§os especializados cresce principalmente em Ã¡reas financeiras, RH e atendimento ao cliente.",sentimento:"positivo",fonte:"Valor EconÃ´mico",relevancia:98,categorias:["crescimento","mercado","transformaÃ§Ã£o digital"]},{titulo:"Empresas de BPO investem R$ 8 bilhÃµes em tecnologia e capacitaÃ§Ã£o",resumo:"Principais players do mercado brasileiro anunciam investimentos massivos em inteligÃªncia artificial, RPA e qualificaÃ§Ã£o profissional. Movimento busca aumentar eficiÃªncia e competitividade no setor.",sentimento:"positivo",fonte:"InfoMoney",relevancia:95,categorias:["investimento","tecnologia","capacitaÃ§Ã£o"]},{titulo:"Reforma trabalhista exige adequaÃ§Ãµes em contratos de terceirizaÃ§Ã£o",resumo:"Novas diretrizes do MinistÃ©rio do Trabalho impÃµem mudanÃ§as na estrutura de contrataÃ§Ã£o de serviÃ§os terceirizados. Empresas tÃªm atÃ© marÃ§o de 2025 para adequaÃ§Ã£o completa.",sentimento:"negativo",fonte:"EstadÃ£o",relevancia:88,categorias:["regulaÃ§Ã£o","compliance","legislaÃ§Ã£o"]},{titulo:"Demanda por serviÃ§os de gestÃ£o de RH terceirizados cresce 24%",resumo:"Empresas buscam especializaÃ§Ã£o externa para processos de recrutamento, folha e desenvolvimento. TendÃªncia reflete foco em core business e reduÃ§Ã£o de custos operacionais.",sentimento:"positivo",fonte:"Exame",relevancia:92,categorias:["rh","gestÃ£o de pessoas","terceirizaÃ§Ã£o"]}],concorrentes:[{titulo:"Atento investe R$ 300 milhÃµes em expansÃ£o e tecnologia",resumo:"LÃ­der em contact center anuncia plano de expansÃ£o com abertura de 12 novas unidades e contrataÃ§Ã£o de 8 mil profissionais. Investimento inclui plataforma prÃ³pria de IA conversacional.",sentimento:"neutro",fonte:"Folha de S.Paulo",relevancia:87},{titulo:"Stefanini adquire empresa de consultoria em transformaÃ§Ã£o digital",resumo:"Grupo amplia portfÃ³lio com aquisiÃ§Ã£o estratÃ©gica de consultoria especializada em cloud e analytics. Movimento fortalece posiÃ§Ã£o em projetos de grande porte.",sentimento:"positivo",fonte:"TI Inside",relevancia:85},{titulo:"TCS Brasil reporta crescimento de 28% em receita no ano fiscal",resumo:"Tata Consultancy Services apresenta resultados acima das expectativas impulsionados por contratos de modernizaÃ§Ã£o de sistemas e migraÃ§Ã£o para nuvem.",sentimento:"positivo",fonte:"Bloomberg Brasil",relevancia:83}],tendencias:[{titulo:"IA Generativa deve automatizar 40% das tarefas em BPO atÃ© 2026",resumo:"Estudo da Gartner revela que tecnologias de IA generativa transformarÃ£o radicalmente operaÃ§Ãµes de contact center e backoffice. Empresas que nÃ£o adotarem correm risco de perder competitividade.",sentimento:"positivo",fonte:"Gartner Research",relevancia:96,categorias:["inteligÃªncia artificial","automaÃ§Ã£o","futuro"]},{titulo:"Trabalho hÃ­brido se consolida como modelo permanente em serviÃ§os",resumo:"Pesquisa da FGV indica que 73% das empresas de serviÃ§os adotaram modelo hÃ­brido definitivamente. MudanÃ§a exige novos investimentos em infraestrutura digital e gestÃ£o remota.",sentimento:"neutro",fonte:"FGV-EAESP",relevancia:89,categorias:["trabalho remoto","gestÃ£o","futuro do trabalho"]},{titulo:"ESG torna-se critÃ©rio obrigatÃ³rio em licitaÃ§Ãµes de grande porte",resumo:"Empresas de BPO precisam comprovar prÃ¡ticas sustentÃ¡veis e sociais para participar de concorrÃªncias pÃºblicas e privadas. CertificaÃ§Ãµes ambientais ganham peso em decisÃµes.",sentimento:"positivo",fonte:"Ã‰poca NegÃ³cios",relevancia:91,categorias:["esg","sustentabilidade","governanÃ§a"]},{titulo:"Escassez de talentos qualificados desafia setor de serviÃ§os",resumo:"Pesquisa da Bain aponta falta de 150 mil profissionais qualificados no setor. Empresas investem em programas de requalificaÃ§Ã£o e parcerias com universidades.",sentimento:"negativo",fonte:"Bain & Company",relevancia:87,categorias:["talentos","capacitaÃ§Ã£o","mercado de trabalho"]}]}},le=["Valor EconÃ´mico","Folha de S.Paulo","O Estado de S.Paulo","Exame","InfoMoney","Ã‰poca NegÃ³cios","Bloomberg Brasil","Reuters Brasil","ConvergÃªncia Digital","TI Inside","CIO Brasil","IT Forum"],ce=["Gartner Research","McKinsey & Company","Bain & Company","BCG Brasil","Deloitte Insights","PwC Brasil","FGV-EAESP","FundaÃ§Ã£o Dom Cabral","IDC Brasil","Forrester Research"];function ds(t,n=48){const o=ge.bpo.mercado,i=[];o.forEach((c,N)=>{const f=11-N;i.push({id:`real-${N}`,titulo:c.titulo,resumo:c.resumo,sentimento:c.sentimento,fonte:c.fonte,data:`2025-${String(f).padStart(2,"0")}-${15+N}`,url:"#",relevancia:c.relevancia,categorias:c.categorias||[]})});const r=ps(),s=12-o.length,m=Math.floor((n-o.length)/s);for(let c=1;c<=12;c++)if(!(c>=8))for(let N=0;N<m;N++){const f=r[Math.floor(Math.random()*r.length)],u=Math.random()>.5?le[Math.floor(Math.random()*le.length)]:ce[Math.floor(Math.random()*ce.length)];i.push({id:`gen-mercado-${c}-${N}`,titulo:f.titulo.replace("{segmento}",t.segmentosPrincipais[0].toUpperCase()),resumo:f.resumo.replace("{grupo}",t.grupoEmpresarial),sentimento:f.sentimento,fonte:u,data:`2025-${String(c).padStart(2,"0")}-${5+N*8}`,url:"#",relevancia:75+Math.floor(Math.random()*20),categorias:f.categorias})}return i.sort((c,N)=>new Date(N.data).getTime()-new Date(c.data).getTime())}function ms(t,n=36){const o=ge.bpo.concorrentes,i=[];o.forEach((s,m)=>{const c=t.concorrentes[m%t.concorrentes.length];i.push({id:`real-conc-${m}`,titulo:s.titulo,resumo:s.resumo,sentimento:s.sentimento,fonte:s.fonte,data:`2025-${String(10-m).padStart(2,"0")}-${20+m}`,url:"#",relevancia:s.relevancia,categorias:["concorrente",c]})});const r=us();return t.concorrentes.forEach((s,m)=>{for(let c=1;c<=12&&!(i.length>=n);c++){const N=r[c%r.length],f=le[Math.floor(Math.random()*le.length)];i.push({id:`gen-conc-${s}-${c}`,titulo:N.titulo.replace("{concorrente}",s),resumo:N.resumo.replace("{concorrente}",s),sentimento:N.sentimento,fonte:f,data:`2025-${String(c).padStart(2,"0")}-${m*3+5}`,url:"#",relevancia:70+Math.floor(Math.random()*20),categorias:["concorrente",s]})}}),i.sort((s,m)=>new Date(m.data).getTime()-new Date(s.data).getTime()).slice(0,n)}function xs(t,n=48){const o=ge.bpo.tendencias,i=[];o.forEach((s,m)=>{i.push({id:`real-tend-${m}`,titulo:s.titulo,resumo:s.resumo,sentimento:s.sentimento,fonte:s.fonte,data:`2025-${String(11-m).padStart(2,"0")}-${10+m*5}`,url:"#",relevancia:s.relevancia,categorias:s.categorias||[]})});const r=hs();for(let s=1;s<=12&&!(i.length>=n);s++){const m=Math.floor((n-o.length)/12);for(let c=0;c<m;c++){const N=r[(s+c)%r.length],f=ce[Math.floor(Math.random()*ce.length)];i.push({id:`gen-tend-${s}-${c}`,titulo:N.titulo,resumo:N.resumo,sentimento:N.sentimento,fonte:f,data:`2025-${String(s).padStart(2,"0")}-${3+c*7}`,url:"#",relevancia:80+Math.floor(Math.random()*18),categorias:N.categorias})}}return i.sort((s,m)=>new Date(m.data).getTime()-new Date(s.data).getTime())}function ps(t){return[{titulo:"Investimentos em {segmento} superam R$ 5 bilhÃµes no primeiro trimestre",resumo:"Setor registra aportes recordes com foco em tecnologia e expansÃ£o regional. Empresas como {grupo} lideram movimento de modernizaÃ§Ã£o e ampliaÃ§Ã£o de capacidade.",sentimento:"positivo",categorias:["investimento","crescimento"]},{titulo:"Novas regulamentaÃ§Ãµes impactam setor de serviÃ§os terceirizados",resumo:"MudanÃ§as na legislaÃ§Ã£o trabalhista e tributÃ¡ria exigem adaptaÃ§Ãµes operacionais. Especialistas recomendam revisÃ£o de contratos e processos de compliance.",sentimento:"negativo",categorias:["regulaÃ§Ã£o","compliance"]},{titulo:"FusÃµes e aquisiÃ§Ãµes movimentam mercado de {segmento}",resumo:"ConsolidaÃ§Ã£o do setor acelera com empresas buscando ganhos de escala e sinergias operacionais. TransaÃ§Ãµes somam R$ 2,3 bilhÃµes no perÃ­odo.",sentimento:"neutro",categorias:["m&a","consolidaÃ§Ã£o"]},{titulo:"Empresas de {segmento} apostam em inovaÃ§Ã£o para diferenciaÃ§Ã£o",resumo:"Desenvolvimento de soluÃ§Ãµes proprietÃ¡rias e parcerias tecnolÃ³gicas ganham forÃ§a. Investimento em P&D cresce 35% em relaÃ§Ã£o ao ano anterior.",sentimento:"positivo",categorias:["inovaÃ§Ã£o","tecnologia"]}]}function us(){return[{titulo:"{concorrente} anuncia expansÃ£o para Nordeste e Centro-Oeste",resumo:"{concorrente} investe em novas unidades regionais visando ampliar presenÃ§a nacional. Plano prevÃª criaÃ§Ã£o de 2 mil empregos nos prÃ³ximos 18 meses.",sentimento:"neutro"},{titulo:"{concorrente} lanÃ§a plataforma digital prÃ³pria de gestÃ£o",resumo:"{concorrente} desenvolve soluÃ§Ã£o tecnolÃ³gica interna para otimizar operaÃ§Ãµes. Ferramenta integra IA e analytics para ganhos de produtividade.",sentimento:"positivo"},{titulo:"{concorrente} renova certificaÃ§Ãµes internacionais de qualidade",resumo:"{concorrente} mantÃ©m padrÃµes ISO e conquista novas certificaÃ§Ãµes ESG. Reconhecimento reforÃ§a posicionamento em mercados premium.",sentimento:"positivo"},{titulo:"{concorrente} enfrenta desafios com turnover elevado",resumo:"{concorrente} registra taxa de rotatividade acima da mÃ©dia do setor. Empresa anuncia programa de retenÃ§Ã£o e benefÃ­cios ampliados.",sentimento:"negativo"}]}function hs(t){return[{titulo:"CiberseguranÃ§a torna-se prioridade estratÃ©gica em serviÃ§os",resumo:"Ataques ransomware crescem 120% e empresas elevam investimentos em proteÃ§Ã£o de dados. Compliance com LGPD exige infraestrutura robusta de seguranÃ§a.",sentimento:"negativo",categorias:["seguranÃ§a","tecnologia","lgpd"]},{titulo:"AnÃ¡lise preditiva revoluciona tomada de decisÃ£o empresarial",resumo:"Ferramentas de big data e machine learning permitem antecipaÃ§Ã£o de tendÃªncias e otimizaÃ§Ã£o de recursos. ROI mÃ©dio de implementaÃ§Ã£o atinge 300%.",sentimento:"positivo",categorias:["analytics","big data","inovaÃ§Ã£o"]},{titulo:"Customer experience define competitividade no setor",resumo:"Pesquisa aponta que 78% dos clientes valorizam mais a experiÃªncia que o preÃ§o. Empresas investem em omnichannel e personalizaÃ§Ã£o.",sentimento:"positivo",categorias:["cx","atendimento","estratÃ©gia"]},{titulo:"Economia circular ganha espaÃ§o em modelos de negÃ³cio",resumo:"PrÃ¡ticas sustentÃ¡veis deixam de ser diferenciais e tornam-se requisitos bÃ¡sicos. Empresas que nÃ£o se adaptarem perdem competitividade.",sentimento:"neutro",categorias:["sustentabilidade","esg","economia circular"]},{titulo:"Blockchain promete transformar contratos e auditoria",resumo:"Tecnologia de registro distribuÃ­do garante transparÃªncia e rastreabilidade em transaÃ§Ãµes. Pilotos mostram reduÃ§Ã£o de 60% no tempo de auditorias.",sentimento:"positivo",categorias:["blockchain","inovaÃ§Ã£o","tecnologia"]},{titulo:"SaÃºde mental no trabalho exige novas polÃ­ticas corporativas",resumo:"Burnout e ansiedade afetam 40% dos profissionais segundo pesquisa. Empresas implementam programas de wellbeing e acompanhamento psicolÃ³gico.",sentimento:"neutro",categorias:["saÃºde mental","rh","wellbeing"]}]}function gs({cnpj:t="26888098000159",nomeEmpresa:n="Volpe BPO",grupoEmpresarial:o="Grupo Volpe"}){const[i,r]=x.useState(!1),[s,m]=x.useState(""),[c,N]=x.useState(null),[f,u]=x.useState([]),[y,h]=x.useState([]),[w,S]=x.useState([]);x.useEffect(()=>{b(),R()},[t,n,o]);const b=async()=>{const l=await Re(t,n,o);N(l),m(cs(l))},R=async()=>{r(!0);try{let l=c;l||(l=await Re(t,n,o),N(l));const D=ds(l,48),M=ms(l,36),I=xs(l,48);console.log(`ðŸ“° NotÃ­cias geradas para ${l.grupoEmpresarial}:`,{mercado:D.length,concorrentes:M.length,tendencias:I.length}),setTimeout(()=>{u(D),h(M),S(I),r(!1)},800)}catch(l){console.error("Erro ao carregar notÃ­cias:",l),r(!1)}},v=l=>{const M={positivo:{bg:"bg-green-500/20",text:"text-green-400",icon:Y,label:"Positivo"},neutro:{bg:"bg-blue-500/20",text:"text-blue-400",icon:Sa,label:"Neutro"},negativo:{bg:"bg-red-500/20",text:"text-red-400",icon:ze,label:"Negativo"}}[l],I=M.icon;return e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${M.bg} ${M.text} text-xs font-semibold`,children:[e.jsx(I,{className:"w-3 h-3"}),M.label]})},C=({noticia:l})=>e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neomorphic rounded-2xl p-5 border border-graphite-800/30 hover:border-gold-500/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-base mb-2 line-clamp-2",children:l.titulo}),e.jsx("p",{className:"text-graphite-400 text-sm leading-relaxed line-clamp-3",children:l.resumo})]}),e.jsx("div",{className:"ml-4",children:v(l.sentimento)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-graphite-800",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-graphite-500",children:[e.jsx("span",{className:"font-medium",children:l.fonte}),e.jsx("span",{children:new Date(l.data).toLocaleDateString("pt-BR")}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gold-500"}),l.relevancia,"% relevante"]})]}),e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-gold-500 hover:text-gold-400 transition-colors",children:e.jsx(Ca,{className:"w-4 h-4"})})]})]});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"NotÃ­cias & InteligÃªncia de Mercado"}),e.jsxs("p",{className:"text-graphite-400",children:["Acompanhe tendÃªncias, concorrentes e oportunidades do setor â€¢ ",n]})]}),e.jsxs(We,{onClick:R,disabled:i,className:"flex items-center gap-2",children:[e.jsx(ee,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Atualizar"]})]}),e.jsxs(L,{className:"mb-6 bg-gradient-to-br from-gold-500/10 to-gold-600/5 border-gold-500/20",children:[e.jsx(B,{children:e.jsxs(V,{className:"text-gold-400 flex items-center gap-2",children:[e.jsx(ya,{className:"w-5 h-5"}),"Sobre a Empresa Analisada"]})}),e.jsxs(_,{className:"space-y-3",children:[e.jsx("p",{className:"text-graphite-300 text-sm leading-relaxed",children:s||"Carregando informaÃ§Ãµes da empresa..."}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-3 border-t border-gold-500/20",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wa,{className:"w-4 h-4 text-gold-400"}),e.jsx("span",{className:"text-xs font-semibold text-gold-400",children:"Segmento"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.segmentosPrincipais.map(l=>e.jsx("span",{className:"px-2 py-1 rounded-md bg-gold-500/10 text-gold-400 text-xs",children:l.toUpperCase()},l))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs font-semibold text-blue-400",children:"Concorrentes Principais"})]}),e.jsxs("p",{className:"text-graphite-400 text-xs",children:[c.concorrentes.slice(0,3).join(", "),"..."]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Y,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-xs font-semibold text-green-400",children:"Palavras-Chave"})]}),e.jsx("p",{className:"text-graphite-400 text-xs",children:c.palavrasChave.slice(0,3).join(", ")})]})]})]})]}),e.jsxs(he,{defaultValue:"mercado",className:"w-full",children:[e.jsxs(de,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs($,{value:"mercado",children:["Mercado & Setor",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-gold-500/20 text-gold-400 text-xs",children:f.length})]}),e.jsxs($,{value:"concorrentes",children:["Concorrentes",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 text-xs",children:y.length})]}),e.jsxs($,{value:"tendencias",children:["TendÃªncias",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-400 text-xs",children:w.length})]})]}),e.jsx(F,{value:"mercado",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-8 h-8 animate-spin text-gold-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando notÃ­cias do mercado..."})]}):f.map(l=>e.jsx(C,{noticia:l},l.id))}),e.jsx(F,{value:"concorrentes",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando notÃ­cias de concorrentes..."})]}):y.map(l=>e.jsx(C,{noticia:l},l.id))}),e.jsx(F,{value:"tendencias",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-8 h-8 animate-spin text-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando tendÃªncias do setor..."})]}):w.map(l=>e.jsx(C,{noticia:l},l.id))})]})]})}const Ze={duration:.2,ease:[.22,1,.36,1]},fs={duration:.35,ease:[.22,1,.36,1]},bs={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:fs}},G={whileHover:{scale:1.02},transition:Ze},me={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:Ze}},Ie="oracle_context_rules";function js({open:t,onClose:n,onUpdateOracleContext:o}){const[i,r]=x.useState("settings"),[s,m]=x.useState(""),[c,N]=x.useState("all"),[f,u]=x.useState("all"),[y,h]=x.useState("24h"),[w,S]=x.useState([]);if(x.useEffect(()=>{if(t){const l=localStorage.getItem(Ie)||"";m(l)}},[t]),x.useEffect(()=>{if(!t||i!=="logs")return;const l={select:"*",order:"ts.desc",limit:"200"};A.restGet("app_logs",{query:l}).then(S).catch(()=>S([]))},[t,i,c,f,y]),!t)return null;const b=()=>{localStorage.setItem(Ie,s),o&&o(s),n()},R=w.filter(l=>(c==="all"||l.level===c)&&(f==="all"||l.service===f)),v=R.map(l=>({ts:l.ts,info:l.level==="info"?1:0,warn:l.level==="warn"?1:0,error:l.level==="error"?1:0})),C=Object.values(R.reduce((l,D)=>(D.endpoint&&(l[D.endpoint]=(l[D.endpoint]||0)+1),l),{})).length?Object.entries(R.reduce((l,D)=>(D.endpoint&&(l[D.endpoint]=(l[D.endpoint]||0)+1),l),{})).slice(0,8).map(([l,D])=>({endpoint:l,count:D})):[];return R.filter(l=>l.latencyMs).map(l=>({endpoint:l.endpoint||"N/A",latency:l.latencyMs})),e.jsx(g.div,{className:"fixed inset-0 z-[75] bg-black/60 backdrop-blur-sm",children:e.jsxs(g.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"mx-auto mt-12 max-w-[1200px] bg-card border border-border rounded-3xl shadow-soft-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:"text-sm font-semibold",children:"ConfiguraÃ§Ãµes do Sistema"})]}),e.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:e.jsx(Pe,{className:"w-5 h-5"})})]}),e.jsxs(he,{value:i,onValueChange:r,className:"w-full",children:[e.jsxs(de,{className:"w-full grid grid-cols-3 p-1 mx-5 mt-5",children:[e.jsxs($,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"ConfiguraÃ§Ãµes"]}),e.jsxs($,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"w-4 h-4"}),"Logs"]}),e.jsxs($,{value:"about",className:"flex items-center gap-2",children:[e.jsx(Da,{className:"w-4 h-4"}),"Sobre"]})]}),e.jsx(F,{value:"settings",className:"p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Regras de Contexto do OrÃ¡culo"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Configure regras de contexto (empresa/grupo, fontes, tom e escopo) para personalizar respostas do OrÃ¡culo."}),e.jsx("textarea",{value:s,onChange:l=>m(l.target.value),rows:10,placeholder:"Ex: Focar em anÃ¡lise do Grupo Volpe, usar tom profissional, priorizar dados de 2024-2025...",className:"w-full bg-graphite-900 border border-graphite-800 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 font-mono"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 rounded-xl bg-secondary text-secondary-foreground hover:bg-secondary/80",children:"Cancelar"}),e.jsx("button",{onClick:b,className:"px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",children:"Salvar"})]})]})}),e.jsx(F,{value:"logs",className:"p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("select",{value:y,onChange:l=>h(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"24h",children:"24h"}),e.jsx("option",{value:"7d",children:"7 dias"}),e.jsx("option",{value:"30d",children:"30 dias"})]}),e.jsxs("select",{value:c,onChange:l=>N(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Todos os nÃ­veis"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warn",children:"Warn"}),e.jsx("option",{value:"error",children:"Error"})]}),e.jsxs("select",{value:f,onChange:l=>u(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Todos os serviÃ§os"}),e.jsx("option",{value:"UI",children:"UI"}),e.jsx("option",{value:"API",children:"API"}),e.jsx("option",{value:"Edge",children:"Edge"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-premium",children:[e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"NÃ­veis ao longo do tempo"})}),e.jsx("div",{className:"p-4 pt-0 h-[250px]",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(pe,{data:v,children:[e.jsx(X,{stroke:"rgba(200,200,200,0.15)",vertical:!1}),e.jsx(W,{dataKey:"ts",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12},hide:!0}),e.jsx(Z,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(K,{}),e.jsx(oe,{}),e.jsx(H,{type:"monotone",dataKey:"info",stackId:"1",stroke:"#38bdf8",fill:"#38bdf8"}),e.jsx(H,{type:"monotone",dataKey:"warn",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b"}),e.jsx(H,{type:"monotone",dataKey:"error",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})})]}),e.jsxs("div",{className:"card-premium",children:[e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Top endpoints"})}),e.jsx("div",{className:"p-4 pt-0 h-[250px]",children:e.jsx(J,{width:"100%",height:"100%",children:e.jsxs(ue,{data:C,children:[e.jsx(X,{stroke:"rgba(200,200,200,0.15)"}),e.jsx(W,{dataKey:"endpoint",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(Z,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(K,{}),e.jsx(ne,{dataKey:"count",fill:"#ff7a00"})]})})})]})]}),e.jsx("div",{className:"rounded-2xl border border-border overflow-hidden max-h-[300px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-graphite-900 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Timestamp"}),e.jsx("th",{className:"text-left p-3",children:"NÃ­vel"}),e.jsx("th",{className:"text-left p-3",children:"ServiÃ§o"}),e.jsx("th",{className:"text-left p-3",children:"Endpoint"}),e.jsx("th",{className:"text-left p-3",children:"Mensagem"})]})}),e.jsxs("tbody",{children:[R.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center p-8 text-muted-foreground",children:"Nenhum log encontrado para os filtros selecionados."})}),R.slice(0,50).map((l,D)=>e.jsxs("tr",{className:"border-t border-border hover:bg-graphite-900/50",children:[e.jsx("td",{className:"p-3 text-xs",children:new Date(l.ts).toLocaleString("pt-BR")}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${l.level==="error"?"bg-red-500/20 text-red-400":l.level==="warn"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:l.level})}),e.jsx("td",{className:"p-3 text-xs",children:l.service}),e.jsx("td",{className:"p-3 text-xs font-mono",children:l.endpoint||"-"}),e.jsx("td",{className:"p-3 text-xs",children:l.message})]},D))]})]})})]})}),e.jsx(F,{value:"about",className:"p-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gold-500 to-orange-500 flex items-center justify-center",children:e.jsx(te,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold",children:"fin.app"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Financial Intelligence Dashboard"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"VersÃ£o"}),e.jsx("p",{className:"text-lg font-bold",children:"v0.2.0"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ambiente"}),e.jsx("p",{className:"text-lg font-bold",children:"ProduÃ§Ã£o"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Empresa"}),e.jsx("p",{className:"text-lg font-bold",children:"Grupo Volpe"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ãšltima AtualizaÃ§Ã£o"}),e.jsx("p",{className:"text-lg font-bold",children:"17/11/2025"})]})]}),e.jsxs("div",{className:"card-premium p-5",children:[e.jsx("h5",{className:"text-sm font-semibold mb-3",children:"Funcionalidades"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Dashboard financeiro com DRE e DFC"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"AnÃ¡lise de fluxo de caixa e lanÃ§amentos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Sistema de notÃ­cias inteligente com IA"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"OrÃ¡culo para consultas financeiras"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Gerenciamento de logs e monitoramento"]})]})]}),e.jsx("div",{className:"text-center text-xs text-muted-foreground",children:"Â© 2025 fin.app. Todos os direitos reservados."})]})})]})]})})}function vs({open:t,onClose:n,onLogged:o}){const[i,r]=x.useState("dev@angrax.com.br"),[s,m]=x.useState("B5b0dcf500@#"),[c,N]=x.useState(""),[f,u]=x.useState(!1),y=async()=>{N(""),u(!0);try{const h=await Je(i,s);if(!h){N("Credenciais invÃ¡lidas"),u(!1);return}const w={...h,defaultCompany:"26888098000159",companies:[{cliente_nome:"LOJA 01 - VOLPE MATRIZ",cnpj:"26888098000159"}]};o(w),n()}catch(h){N(h.message||"Erro ao fazer login"),u(!1)}};return t?e.jsx(g.div,{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-xl flex items-center justify-center",children:e.jsx(g.div,{variants:bs,initial:"hidden",animate:"show",className:"neomorphic neomorphic-hover w-[380px] rounded-xl border border-graphite-800/30 shadow-soft-lg",children:e.jsxs("div",{className:"p-7 space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("img",{src:"/finapp-logo.png",alt:"fin.app",className:"w-40 h-auto"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Login - Grupo VOLPE"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso exclusivo para o grupo VOLPE"})]}),e.jsx(g.input,{whileHover:G.whileHover,value:i,onChange:h=>r(h.target.value),placeholder:"E-mail",className:"w-full bg-graphite-900 border border-graphite-800 rounded-sm px-2 py-1 text-xs",disabled:f}),e.jsx(g.input,{whileHover:G.whileHover,type:"password",value:s,onChange:h=>m(h.target.value),placeholder:"Senha",className:"w-full bg-graphite-900 border border-graphite-800 rounded-sm px-2 py-1 text-xs",disabled:f}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e.jsx("p",{children:"Empresa padrÃ£o: LOJA 01 - VOLPE MATRIZ (0159)"})}),c&&e.jsx("p",{className:"text-xs text-destructive text-center",children:c}),e.jsx("div",{className:"flex gap-2 justify-end pt-2",children:e.jsx(g.button,{whileHover:G.whileHover,whileTap:{scale:.98},onClick:y,disabled:f,className:"w-full px-3 py-2 rounded-sm bg-emerald-400 text-white hover:bg-emerald-500 disabled:opacity-50",children:f?"Entrando...":"Entrar"})}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[e.jsx("p",{children:"UsuÃ¡rio: dev@angrax.com.br"}),e.jsx("p",{children:"Empresa: 26888098000159 (Matriz)"})]})]})})}):null}function Ns(t="26888098000159",n){const[o,i]=x.useState({receitaTotal:0,despesasTotal:0,limiteDiario:45e3,metaPoupanca:15e4,receitaChange:0,despesasChange:0,limiteDiarioProgress:0,metaPoupancaProgress:0}),[r,s]=x.useState(!0);x.useEffect(()=>{m()},[t,n]);const m=async()=>{try{const c=await A.getDRE(t);if(!c||c.length===0){s(!1);return}const[N,f]=n?n.split("-").map(Number):[new Date().getFullYear(),new Date().getMonth()+1],u=N,y=f-1;let h=0,w=0,S=0,b=0;c.forEach(k=>{const z=new Date(k.data),T=z.getFullYear(),O=z.getMonth();T===u&&O===y?k.natureza==="receita"?h+=k.valor:k.natureza==="despesa"&&(w+=Math.abs(k.valor)):(T===u&&O===y-1||y===0&&T===u-1&&O===11)&&(k.natureza==="receita"?S+=k.valor:k.natureza==="despesa"&&(b+=Math.abs(k.valor)))});const R=S>0?(h-S)/S*100:0,v=b>0?(w-b)/b*100:0,l=45e3*22,D=Math.min(Math.round(h/l*100),100),M=h-w,I=Math.min(Math.round(M/15e4*100),100);i({receitaTotal:h,despesasTotal:w,limiteDiario:45e3,metaPoupanca:15e4,receitaChange:R,despesasChange:v,limiteDiarioProgress:D,metaPoupancaProgress:I}),s(!1)}catch(c){console.error("Erro ao carregar dados financeiros:",c),s(!1)}};return{metrics:o,loading:r}}function ys(){const[t,n]=x.useState(!0),[o,i]=x.useState(!1),[r,s]=x.useState(""),[m]=x.useState("admin"),[c,N]=x.useState("Dashboard"),[f,u]=x.useState("Ano"),[y,h]=x.useState(()=>La()),[w,S]=x.useState(""),[b,R]=x.useState(""),[v,C]=x.useState(""),l=window.location.hostname.includes("dev.angrax.com.br")||window.location.hostname.includes("localhost"),[D,M]=x.useState("2025-11"),[I,k]=x.useState("26888098000159"),[z,T]=x.useState([]),{metrics:O,loading:a}=Ns(I,D);x.useEffect(()=>{p();const d=localStorage.getItem("oracle_context_rules");if(d)s(d);else{const j=`# CONTEXTO DO ORÃCULO - ESPECIALISTA EM BPO E ANÃLISE DE FLUXO DE CAIXA

## EMPRESA/GRUPO
- Grupo Volpe BPO (CNPJ: 26.888.098/0001-59)
- AtuaÃ§Ã£o: Business Process Outsourcing (BPO), terceirizaÃ§Ã£o de processos financeiros, administrativos e de RH
- Segmento: ServiÃ§os empresariais B2B
- Principais clientes: Empresas de mÃ©dio e grande porte nos setores industrial, comercial e de serviÃ§os

## EXPERTISE EM FLUXO DE CAIXA
Como especialista em BPO financeiro, o OrÃ¡culo deve fornecer anÃ¡lises profundas sobre:

### 1. GESTÃƒO DE RECEBÃVEIS E PAGÃVEIS
- AnÃ¡lise de prazos mÃ©dios de recebimento (PMR) e pagamento (PMP)
- IdentificaÃ§Ã£o de gargalos de cobranÃ§a e inadimplÃªncia
- OtimizaÃ§Ã£o do ciclo de caixa operacional (CCC = PME + PMR - PMP)
- EstratÃ©gias de antecipaÃ§Ã£o de recebÃ­veis e negociaÃ§Ã£o com fornecedores
- AnÃ¡lise de aging de contas a receber e a pagar

### 2. PREVISIBILIDADE E PROJEÃ‡Ã•ES
- ProjeÃ§Ã£o de fluxo de caixa para 30, 60 e 90 dias
- AnÃ¡lise de sazonalidade e padrÃµes histÃ³ricos de receitas e despesas
- IdentificaÃ§Ã£o de tendÃªncias de entrada e saÃ­da de caixa
- SimulaÃ§Ã£o de cenÃ¡rios (otimista, realista, pessimista)
- Alertas antecipados de necessidade de capital de giro

### 3. CAPITAL DE GIRO E LIQUIDEZ
- CÃ¡lculo e monitoramento do capital de giro lÃ­quido (CGL)
- AnÃ¡lise de Ã­ndices de liquidez (corrente, seca, imediata)
- IdentificaÃ§Ã£o de necessidade de capital de giro (NCG)
- EstratÃ©gias para otimizaÃ§Ã£o de caixa mÃ­nimo operacional
- AnÃ¡lise de conversÃ£o de caixa (cash conversion cycle)

### 4. CATEGORIZAÃ‡ÃƒO E ANÃLISE DE DESPESAS
- ClassificaÃ§Ã£o de despesas por natureza (fixas vs variÃ¡veis)
- AnÃ¡lise de despesas por centro de custo e departamento
- IdentificaÃ§Ã£o de despesas anormais ou outliers
- Benchmark de despesas operacionais vs receita bruta
- Oportunidades de reduÃ§Ã£o de custos e renegociaÃ§Ã£o

### 5. GESTÃƒO DE INADIMPLÃŠNCIA
- AnÃ¡lise de taxa de inadimplÃªncia por cliente e perÃ­odo
- ProvisÃ£o para devedores duvidosos (PDD)
- EstratÃ©gias de cobranÃ§a e recuperaÃ§Ã£o de crÃ©dito
- AnÃ¡lise de risco de crÃ©dito de clientes
- Impacto da inadimplÃªncia no fluxo de caixa projetado

### 6. INVESTIMENTOS E CAPEX
- AnÃ¡lise de investimentos em ativo fixo e tecnologia
- CÃ¡lculo de retorno sobre investimento (ROI) e payback
- Impacto de investimentos no fluxo de caixa de curto e longo prazo
- PriorizaÃ§Ã£o de projetos de investimento
- AnÃ¡lise de viabilidade financeira de expansÃµes

### 7. INDICADORES CHAVE DE PERFORMANCE (KPIs)
- GeraÃ§Ã£o de caixa operacional (Operating Cash Flow)
- Free Cash Flow (FCF = Fluxo Operacional - Capex)
- Burn rate (taxa de queima de caixa)
- Runway (tempo atÃ© esgotamento do caixa)
- Cash flow margin (margem de fluxo de caixa)
- EBITDA vs Cash Flow (anÃ¡lise de qualidade de lucro)

### 8. COMPLIANCE E AUDITORIA
- ReconciliaÃ§Ã£o bancÃ¡ria e controles internos
- Rastreabilidade de lanÃ§amentos e documentaÃ§Ã£o
- SegregaÃ§Ã£o de funÃ§Ãµes e alÃ§adas de aprovaÃ§Ã£o
- Auditoria de processos de pagamento e recebimento
- PrevenÃ§Ã£o a fraudes e controles antifraude

## FONTES DE DADOS PRIORITÃRIAS
1. DRE (DemonstraÃ§Ã£o de Resultado do ExercÃ­cio) - anÃ¡lise mensal e anual
2. DFC (DemonstraÃ§Ã£o de Fluxo de Caixa) - mÃ©todo direto e indireto
3. LanÃ§amentos contÃ¡beis e extratos bancÃ¡rios
4. Aging de contas a receber e a pagar
5. Ordens de pagamento e bordereaux de cobranÃ§a
6. ConciliaÃ§Ãµes bancÃ¡rias e movimentaÃ§Ãµes financeiras

## TOM E ESTILO
- Linguagem executiva, clara e objetiva
- Foco em insights acionÃ¡veis e recomendaÃ§Ãµes prÃ¡ticas
- Uso de mÃ©tricas e KPIs financeiros
- EvidÃªncias baseadas em dados reais do ERP/Contabilidade
- Alertas proativos para riscos e oportunidades
- ComparaÃ§Ãµes temporais (MoM, YoY) e benchmarks setoriais

## ESCOPO DE ANÃLISE
- PerÃ­odo: Dados de 2024 e 2025 (priorizar Ãºltimos 12 meses)
- ComparaÃ§Ãµes: MÃªs vs mÃªs anterior, ano vs ano anterior
- Foco: Grupo Volpe e suas unidades de negÃ³cio
- Granularidade: AnÃ¡lise consolidada e por centro de custo
- Alertas: VariaÃ§Ãµes superiores a 15% ou valores atÃ­picos

## RECOMENDAÃ‡Ã•ES ESTRATÃ‰GICAS
Sempre que relevante, fornecer:
- DiagnÃ³stico da situaÃ§Ã£o atual do fluxo de caixa
- IdentificaÃ§Ã£o de problemas e oportunidades
- RecomendaÃ§Ãµes de curto prazo (30 dias)
- EstratÃ©gias de mÃ©dio prazo (90 dias)
- Plano de aÃ§Ã£o com priorizaÃ§Ã£o e responsÃ¡veis sugeridos`;localStorage.setItem("oracle_context_rules",j),s(j)}},[]);const p=async()=>{try{const d=await A.getCompanies();T(d)}catch(d){console.error("Erro ao carregar empresas:",d)}};return x.useState(()=>{const d=j=>N(j.detail);return window.addEventListener("navigate",d),()=>window.removeEventListener("navigate",d)}),e.jsxs("div",{className:`min-h-screen ${t?"dark bg-gradient-to-br from-charcoal-950 via-graphite-950 to-charcoal-900":"bg-gradient-to-br from-gray-50 via-white to-gray-100"} transition-colors duration-500`,children:[e.jsx(Ga,{role:m,onOpenSettings:()=>i(!0),onOpenLogs:()=>i(!0)}),e.jsxs("div",{className:"ml-64 flex flex-col min-h-screen",children:[e.jsx(Ja,{isDark:t,onThemeToggle:()=>n(!t),oracleContext:r,currentPeriod:f,onPeriodChange:d=>u(d),selectedMonth:D,onMonthChange:M,selectedCompany:I,onCompanyChange:k,companies:z}),e.jsxs("main",{className:"flex-1 p-8",children:[c==="Dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[e.jsx(ae,{title:"Receita Total",value:a?"R$ 0":`R$ ${Math.round(O.receitaTotal).toLocaleString("pt-BR")}`,change:a?0:O.receitaChange,trend:O.receitaChange>=0?"up":"down",icon:"TrendingUp",color:"green",sparklineData:[42,48,45,52,58,65,70,68,75,80,85,90]}),e.jsx(ae,{title:"Despesas",value:a?"R$ 0":`R$ ${Math.round(O.despesasTotal).toLocaleString("pt-BR")}`,change:a?0:O.despesasChange,trend:O.despesasChange>=0?"up":"down",icon:"TrendingDown",color:"red",sparklineData:[30,35,40,38,42,45,48,50,52,54,56,58]}),e.jsx(ae,{title:"Limite DiÃ¡rio",value:`R$ ${O.limiteDiario.toLocaleString("pt-BR")}`,change:a?0:O.limiteDiarioProgress,trend:"up",icon:"Wallet",color:"blue",sparklineData:[20,25,30,28,32,35,38,40,42,43,44,45],progress:a?0:O.limiteDiarioProgress}),e.jsx(ae,{title:"Meta de PoupanÃ§a",value:`R$ ${O.metaPoupanca.toLocaleString("pt-BR")}`,change:a?0:O.metaPoupancaProgress,trend:"up",icon:"Target",color:"gold",sparklineData:[10,20,35,45,60,70,80,90,95,100,105,110],progress:a?0:O.metaPoupancaProgress})]}),e.jsx("section",{className:"mb-6",children:e.jsx(es,{period:f,session:y},`overview-${y?"auth":"anon"}`)}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(we,{period:f,cnpj:I,selectedMonth:D})}),e.jsx("div",{children:e.jsx(Xa,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(Ke,{})}),e.jsx("div",{children:e.jsx(Za,{cnpj:I,selectedMonth:D})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsx(g.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:me,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/20",children:e.jsx(Me,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Clientes Ativos"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"1.248"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+8% este mÃªs"})]})]})}),e.jsx(g.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:me,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/20",children:e.jsx(xe,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Documentos Processados"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"8.542"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+15% este mÃªs"})]})]})}),e.jsx(g.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:me,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gold-500/20 to-gold-600/10 border border-gold-500/20",children:e.jsx(Ra,{className:"w-6 h-6 text-gold-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"AutomaÃ§Ã£o"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"94.8%"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+2.3% este mÃªs"})]})]})})]})]}),c==="AnÃ¡lises"&&e.jsx(Ee,{}),c==="Fluxo de Caixa"&&e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(we,{period:f})}),c==="Extrato de LanÃ§amentos"&&e.jsx(os,{}),c==="RelatÃ³rios"&&e.jsx(as,{}),c==="Clientes"&&e.jsx(ss,{}),c==="AnÃ¡lises"&&e.jsx(Ee,{}),c==="NotÃ­cias"&&e.jsx(gs,{cnpj:I,nomeEmpresa:z.find(d=>d.cnpj===I)?.cliente_nome||"Empresa",grupoEmpresarial:z.find(d=>d.cnpj===I)?.grupo_empresarial||"Grupo Empresarial"})]}),e.jsx(js,{open:o,onClose:()=>i(!1),onUpdateOracleContext:s}),!y&&(l?e.jsx(vs,{open:!y,onClose:()=>{},onLogged:d=>h(d)}):e.jsx("div",{className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur flex items-center justify-center",children:e.jsxs("div",{className:"w-[360px] rounded-xl border border-graphite-800 bg-graphite-900 p-4 space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Entrar"}),v&&e.jsx("div",{className:"text-xs text-red-400",children:v}),e.jsx("input",{value:w,onChange:d=>S(d.target.value),placeholder:"E-mail",className:"w-full bg-graphite-800 border border-graphite-700 rounded-sm px-2 py-1 text-xs"}),e.jsx("input",{type:"password",value:b,onChange:d=>R(d.target.value),placeholder:"Senha",className:"w-full bg-graphite-800 border border-graphite-700 rounded-sm px-2 py-1 text-xs"}),e.jsx("button",{onClick:async()=>{C("");try{const d=await Fa(w,b);if(!d){C(re||"Credenciais invÃ¡lidas");return}h(d)}catch(d){C(d.message||"Erro ao fazer login")}},className:"px-3 py-1 rounded-sm bg-emerald-400 text-white text-xs",children:"Entrar"})]})}))]})]})}Qe.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(ys,{})}));
