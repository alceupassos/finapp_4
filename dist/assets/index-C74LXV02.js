import{a as m,j as e,c as re,h as ta}from"./vendor-react-LKNicB05.js";import{m as b}from"./vendor-motion-B58r-QRs.js";import{L as ra,C as oa,N as na,T as W,W as $e,F as je,U as Fe,a as ia,B as Le,S as oe,b as la,c as ca,X as Be,d as Ve,e as da,M as ma,f as Ce,g as _e,h as Ge,A as He,i as xa,E as pa,j as ua,k as ha,l as ga,m as fa,n as ba,o as qe,P as ja,p as Je,V as va,I as Ke,q as Na,R as ya,r as wa,s as Ue,t as Ye,u as Xe,v as Ca,w as Sa,x as se,y as Ea,z as Da,D as Ra,G as Ia,H as Aa,J as Ma,Z as Oa}from"./vendor-ui-CCTholrg.js";import{i as K,j as ve,k as Z,l as Q,m as ee,n as U,o as q,p as Ne,q as ce,r as de,s as Pa,t as Ta,u as ka,v as Se}from"./vendor-recharts-CC_6uSjI.js";import{c as za,a as Ee,s as De,u as $a,b as Fa,m as Re}from"./vendor-tremor-DHV9nXN5.js";import{a5 as La,b$ as Ba}from"./vendor-D5S_S527.js";import{t as Va}from"./vendor-tailwind-merge-DxgBj8Ug.js";import"./vendor-date-fns-B_6AWE7E.js";import"./vendor-tanstack-ofcTeKip.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const We="https://xzrmzmcoslomtzkzgskn.supabase.co",me="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6cm16bWNvc2xvbXR6a3pnc2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTI2MjMsImV4cCI6MjA3NzMyODYyM30.smtxh5O5vKzdLBK3GWVudfFQsNpwkzXgc1Qev2gIicI";function Ze(){const t=localStorage.getItem("supabase_session");if(!t)return null;try{return JSON.parse(t).access_token||null}catch{return null}}async function ae(t,n={}){const o=new URL(`${We}/rest/v1/${t}`);Object.entries(n.query||{}).forEach(([s,d])=>o.searchParams.set(s,d));const i=Ze()||me,r=await fetch(o.toString(),{headers:{apikey:me,Authorization:`Bearer ${i}`,Accept:"application/json"}});if(!r.ok)throw new Error(`Supabase GET ${t} failed: ${r.status}`);return r.json()}async function Ie(t,n){const o=`${We}/rest/v1/${t}`,i=Ze()||me,r=await fetch(o,{method:"POST",headers:{apikey:me,Authorization:`Bearer ${i}`,"Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Supabase POST ${t} failed: ${r.status}`);return r.json()}const O={restGet:ae,restPost:Ie,getCompanies:async()=>{const t=await ae("dre_entries",{query:{select:"company_cnpj,company_nome",limit:"1000"}}),n=await ae("cashflow_entries",{query:{select:"company_cnpj,company_nome",limit:"1000"}}),o=new Map;return[...t,...n].forEach(i=>{const r=i.company_cnpj;o.has(r)||o.set(r,{cnpj:r,cliente_nome:i.company_nome,grupo_empresarial:i.company_nome.includes("VOLPE")?"Grupo Volpe":"Outros"})}),Array.from(o.values()).sort((i,r)=>i.cnpj.localeCompare(r.cnpj))},getDRE:async t=>{const n=(t||"").replace(/^0+/,""),o=await ae("dre_entries",{query:{company_cnpj:`eq.${n}`,select:"*",limit:"5000"}});return Array.isArray(o)?(console.log("ðŸ” getDRE recebeu",o.length,"registros para CNPJ",n),o.map(i=>({data:i.date||i.data,conta:i.account??i.conta??"Conta",natureza:i.nature??i.natureza??null,valor:Number(i.amount??i.valor??0)}))):[]},getDFC:async t=>{const n=(t||"").replace(/^0+/,""),o=await ae("cashflow_entries",{query:{company_cnpj:`eq.${n}`,select:"*",limit:"5000"}});if(!Array.isArray(o))return[];if(console.log("ðŸ” getDFC recebeu",o.length,"registros para CNPJ",n),o.length&&(o[0].entrada!==void 0||o[0].saida!==void 0))return o;const i=[...o].sort((s,d)=>new Date(s.date||s.data).getTime()-new Date(d.date||d.data).getTime());let r=0;return i.map(s=>{const d=String(s.kind||"").toLowerCase()==="in"?Number(s.amount||0):0,c=String(s.kind||"").toLowerCase()==="out"?Number(s.amount||0):0;return r+=d-c,{data:s.date||s.data,descricao:s.category||s.descricao||"LanÃ§amento",entrada:d,saida:c,saldo:r,id:s.id??void 0}})},log:t=>Ie("app_logs",{...t,ts:new Date().toISOString()})};let ne="";async function Qe(t,n){const r=await fetch("https://xzrmzmcoslomtzkzgskn.supabase.co/auth/v1/token?grant_type=password",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6cm16bWNvc2xvbXR6a3pnc2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NTI2MjMsImV4cCI6MjA3NzMyODYyM30.smtxh5O5vKzdLBK3GWVudfFQsNpwkzXgc1Qev2gIicI",Accept:"application/json"},body:JSON.stringify({email:t,password:n})});if(!r.ok){try{const s=await r.json();ne=String(s.error_description||s.error||`HTTP ${r.status}`)}catch{ne=`HTTP ${r.status}`}return null}return ne="",r.json()}async function _a(t,n){try{const o=await Qe(t,n);if(!o||!o.access_token)return null;localStorage.setItem("supabase_session",JSON.stringify(o));const i={id:o.user?.id||"unknown",email:t},r={id:i.id,email:i.email||t,name:(i.email||t).split("@")[0],role:"cliente",defaultCompany:null,mode:"supabase",accessToken:o.access_token};return localStorage.setItem("session_user",JSON.stringify(r)),r}catch{return null}}function Ga(){const t=localStorage.getItem("session_user");return t?JSON.parse(t):null}function Ha(){localStorage.removeItem("session_user"),localStorage.removeItem("supabase_session")}const qa=[{icon:ra,label:"Dashboard",active:!0},{icon:oa,label:"AnÃ¡lises",active:!1},{icon:na,label:"NotÃ­cias",active:!1},{icon:W,label:"Fluxo de Caixa",active:!1},{icon:$e,label:"Extrato de LanÃ§amentos",active:!1},{icon:je,label:"RelatÃ³rios",active:!1},{icon:Fe,label:"Clientes",active:!1}];function Ja(t){return[{icon:Le,label:"NotificaÃ§Ãµes"},{icon:oe,label:"ConfiguraÃ§Ãµes"},{icon:je,label:"Gerenciamento â€¢ Logs",adminOnly:!0},{icon:la,label:"Sair"}].filter(o=>!o.adminOnly||t==="admin")}function Ka({onOpenSettings:t,onOpenLogs:n,role:o="cliente"}){const[i,r]=m.useState(null);return e.jsxs(b.aside,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"fixed left-0 top-0 h-screen w-64 bg-gradient-to-b from-charcoal-950 via-graphite-950 to-charcoal-900 border-r border-graphite-900 flex flex-col z-50 pattern-soft",children:[e.jsx("div",{className:"p-6 border-b border-graphite-900 flex justify-center",children:e.jsx(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:e.jsx("img",{src:"/finapp-logo.png",alt:"FinApp Logo",className:"h-16 w-auto object-contain"})})}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:qa.map((s,d)=>e.jsxs(b.button,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*d},onHoverStart:()=>r(d),onHoverEnd:()=>r(null),onClick:()=>{if(s.label==="RelatÃ³rios"){const c=new CustomEvent("navigate",{detail:"RelatÃ³rios"});window.dispatchEvent(c)}if(s.label==="Clientes"){const c=new CustomEvent("navigate",{detail:"Clientes"});window.dispatchEvent(c)}if(s.label==="Dashboard"||s.label==="AnÃ¡lises"||s.label==="NotÃ­cias"||s.label==="Fluxo de Caixa"||s.label==="Extrato de LanÃ§amentos"){const c=new CustomEvent("navigate",{detail:s.label});window.dispatchEvent(c)}},className:`
              w-full flex items-center gap-3 px-4 py-2.5 rounded-xl
              transition-all duration-200 group relative
              ${s.active?"bg-gold-500 text-white shadow-glow-sm":"text-graphite-400 hover:text-white hover:bg-graphite-900"}
            `,children:[s.active&&e.jsx(b.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gold-500 rounded-xl",transition:{type:"spring",duration:.6}}),e.jsx(b.span,{whileHover:{scale:1.08,rotate:1},className:"relative z-10",children:e.jsx(s.icon,{className:`w-4 h-4 ${s.active?"text-white":""}`})}),e.jsx("span",{className:"text-sm font-medium relative z-10",children:s.label}),i===d&&!s.active&&e.jsx(b.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},className:"ml-auto",children:e.jsx(ia,{className:"w-4 h-4"})})]},s.label))}),e.jsx("div",{className:"p-4 border-t border-graphite-900 space-y-1",children:Ja(o).map((s,d)=>e.jsxs(b.button,{whileHover:{x:5},whileTap:{scale:.98},onClick:()=>{s.label==="ConfiguraÃ§Ãµes"&&t&&t(),s.label==="Gerenciamento â€¢ Logs"&&n&&n(),s.label==="Sair"&&(Ha(),window.dispatchEvent(new CustomEvent("logout")),location.reload())},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-graphite-400 hover:text-white hover:bg-graphite-900 transition-all duration-200",children:[e.jsx(s.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s.label})]},s.label))}),e.jsx(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"p-4 border-t border-graphite-900",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 transition-all cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 flex items-center justify-center text-white font-bold",children:"AC"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:"Admin BPO"}),e.jsx("p",{className:"text-xs text-graphite-400 truncate",children:"admin@bpo.com"})]})]})})]})}const Ua={info:(t,n={})=>O.log({level:"info",service:"UI",message:t,...n}),warn:(t,n={})=>O.log({level:"warn",service:"UI",message:t,...n}),error:(t,n={})=>O.log({level:"error",service:"UI",message:t,...n})};function Ya({open:t,onClose:n,contextRules:o=""}){const[i,r]=m.useState(""),[s,d]=m.useState([]),c=m.useRef(null);if(m.useEffect(()=>{t&&c.current&&(c.current.scrollTop=c.current.scrollHeight)},[t,s]),!t)return null;const j=async()=>{const h=i.trim();if(!h)return;const p=Date.now();d(g=>[...g,{role:"user",content:h,ts:p}]),r("");const N=`Consulta: ${h}

Regra: ${o?o.slice(0,160)+"â€¦":"padrÃ£o executiva"}

Resposta: Em breve, integrado ao Supabase / ERPs.`;d(g=>[...g,{role:"assistant",content:N,ts:Date.now()}]);try{await Ua.info("oracle_query",{endpoint:"oracle",latencyMs:0})}catch{}};return e.jsx(b.div,{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm",children:e.jsxs(b.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"absolute right-8 top-20 w-[520px] bg-card border border-border rounded-3xl shadow-soft-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:"text-sm font-semibold",children:"OrÃ¡culo de IA â€¢ Respostas concisas"})]}),e.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:e.jsx(Be,{className:"w-5 h-5"})})]}),e.jsxs("div",{ref:c,className:"max-h-[48vh] overflow-y-auto p-4 space-y-3",children:[s.map((h,p)=>e.jsx("div",{className:h.role==="user"?"text-foreground":"text-muted-foreground",children:e.jsx("p",{className:"text-sm whitespace-pre-line",children:h.content})},p)),s.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"FaÃ§a uma pergunta rÃ¡pida sobre lanÃ§amentos, DRE/DFC, fluxo ou insights."})]}),e.jsxs("div",{className:"p-4 border-t border-border flex items-center gap-2",children:[e.jsx("input",{value:i,onChange:h=>r(h.target.value),placeholder:"Digite sua perguntaâ€¦",className:"flex-1 bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20"}),e.jsx("button",{onClick:j,className:"px-3 py-2 rounded-xl bg-gold-500 text-white text-sm hover:bg-gold-600 focus-visible-ring",children:"Enviar"})]})]})})}function Xa({onThemeToggle:t,isDark:n=!0,oracleContext:o="",currentPeriod:i="Ano",onPeriodChange:r,selectedMonth:s="2025-11",onMonthChange:d,selectedCompany:c="26888098000159",onCompanyChange:j,companies:h=[]}){const[p,N]=m.useState(3),[g,y]=m.useState(!1),S=[{value:"2025-01",label:"Janeiro 2025"},{value:"2025-02",label:"Fevereiro 2025"},{value:"2025-03",label:"MarÃ§o 2025"},{value:"2025-04",label:"Abril 2025"},{value:"2025-05",label:"Maio 2025"},{value:"2025-06",label:"Junho 2025"},{value:"2025-07",label:"Julho 2025"},{value:"2025-08",label:"Agosto 2025"},{value:"2025-09",label:"Setembro 2025"},{value:"2025-10",label:"Outubro 2025"},{value:"2025-11",label:"Novembro 2025"},{value:"2025-12",label:"Dezembro 2025"}];return e.jsxs(e.Fragment,{children:[e.jsxs(b.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-40 bg-charcoal-950/80 backdrop-blur-xl border-b border-graphite-900",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Ve,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-graphite-400 group-focus-within:text-gold-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar transaÃ§Ãµes, clientes, relatÃ³rios...",className:`
                w-full pl-12 pr-4 py-3 
                bg-graphite-900 
                border border-graphite-800 
                rounded-2xl 
                text-white placeholder-graphite-500
                focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20
                transition-all duration-200
              `})]})}),e.jsxs("div",{className:"flex items-center gap-3 ml-6",children:[h.length>0&&e.jsxs("select",{value:c,onChange:w=>j?.(w.target.value),className:"px-4 py-2 rounded-xl bg-graphite-900 border border-graphite-800 text-white text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 transition-all",children:[e.jsx("option",{value:"",children:"Todas as Empresas"}),h.map(w=>e.jsx("option",{value:w.cnpj,children:w.cliente_nome},w.cnpj))]}),e.jsx("select",{value:s,onChange:w=>d?.(w.target.value),className:"px-4 py-2 rounded-xl bg-graphite-900 border border-graphite-800 text-white text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 transition-all",children:S.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))}),e.jsx(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(!0),className:"p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all group","aria-label":"Abrir OrÃ¡culo de IA",children:e.jsx(da,{className:"w-5 h-5"})}),e.jsxs(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all group",children:[e.jsx(Le,{className:"w-5 h-5"}),p>0&&e.jsx(b.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-gold-500 rounded-full text-xs font-bold text-white flex items-center justify-center shadow-glow-sm",children:p})]}),e.jsxs(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-3 rounded-xl bg-graphite-900 hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all relative overflow-hidden group",children:[e.jsx(b.div,{initial:!1,animate:{rotate:n?0:180,scale:n?1:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ma,{className:"w-5 h-5"})}),e.jsx(b.div,{initial:!1,animate:{rotate:n?180:0,scale:n?0:1},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsx("div",{className:"opacity-0",children:e.jsx(Ce,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"h-8 w-px bg-graphite-800"}),e.jsxs("div",{className:"hidden lg:flex items-center gap-6 pl-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-graphite-400",children:"Saldo Total"}),e.jsx("p",{className:"text-sm font-bold text-white",children:"R$ 2.847.920,00"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-graphite-400",children:"VariaÃ§Ã£o"}),e.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"+12.5%"})]})]})]})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b.h1,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"text-2xl font-bold text-white font-display",children:"Dashboard Financeiro"}),e.jsx(b.p,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"text-sm text-graphite-400 mt-1",children:"VisÃ£o geral â€¢ Atualizado agora hÃ¡ pouco"})]}),e.jsx(b.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"flex items-center gap-2 bg-graphite-900 rounded-xl p-1",children:["Dia","Semana","MÃªs","Ano"].map(w=>e.jsx("button",{onClick:()=>r&&r(w),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${i===w?"bg-gold-500 text-white shadow-glow-sm":"text-graphite-400 hover:text-white hover:bg-graphite-800"}`,children:w},w))})]})})]}),e.jsx(Ya,{open:g,onClose:()=>y(!1),contextRules:o})]})}const Wa={green:{bg:"from-emerald-500/20 to-emerald-600/10",icon:"bg-emerald-500/20 text-emerald-400",text:"text-emerald-400",border:"border-emerald-500/20"},red:{bg:"from-red-500/20 to-red-600/10",icon:"bg-red-500/20 text-red-400",text:"text-red-400",border:"border-red-500/20"},gold:{bg:"from-gold-500/20 to-gold-600/10",icon:"bg-gold-500/20 text-gold-400",text:"text-gold-400",border:"border-gold-500/20"},blue:{bg:"from-blue-500/20 to-blue-600/10",icon:"bg-blue-500/20 text-blue-400",text:"text-blue-400",border:"border-blue-500/20"}},Za={TrendingUp:W,TrendingDown:Ge,Wallet:$e,Target:_e};function te({title:t,value:n,change:o,icon:i,trend:r="up",color:s="gold",delay:d=0,progress:c,sparklineData:j}){const h=Wa[s],p=r==="up",N=Za[i]||W;return e.jsxs(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:d,duration:.5,ease:"easeOut"},whileHover:{y:-4,scale:1.02},className:"group relative",children:[e.jsx(b.div,{className:`absolute inset-0 bg-gradient-to-br ${h.bg} rounded-3xl blur-xl opacity-0 group-hover:opacity-60 transition-opacity duration-500`}),e.jsxs("div",{className:"relative neomorphic neomorphic-hover rounded-3xl p-6 border border-graphite-800/30",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-graphite-400 font-medium mb-2",children:t}),e.jsx(b.h3,{initial:{scale:.9},animate:{scale:1},transition:{delay:d+.2},className:"text-3xl font-bold text-white font-display",children:n})]}),e.jsx(b.div,{whileHover:{rotate:15,scale:1.1},className:`p-3 rounded-2xl bg-gradient-to-br ${h.bg} border ${h.border}`,children:e.jsx(N,{className:"w-6 h-6 text-current",style:{color:h.icon.split(" ")[1].replace("text-","")}})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs(b.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:d+.3},className:`flex items-center gap-1 px-3 py-1.5 rounded-lg ${p?"bg-emerald-500/10":"bg-red-500/10"}`,children:[p?e.jsx(He,{className:"w-4 h-4 text-emerald-400"}):e.jsx(xa,{className:"w-4 h-4 text-red-400"}),e.jsxs("span",{className:`text-sm font-semibold ${p?"text-emerald-400":"text-red-400"}`,children:[o,"%"]})]}),e.jsx("span",{className:"text-sm text-graphite-400",children:"vs mÃªs anterior"})]}),j&&e.jsx("div",{className:"flex items-end gap-1 h-12 mt-4",children:j.map((g,y)=>{const S=Math.max(...j),w=g/S*100;return e.jsx(b.div,{initial:{height:0},animate:{height:`${w}%`},transition:{delay:d+.5+y*.02,duration:.3},className:`flex-1 bg-gradient-to-t ${h.bg} rounded-sm opacity-70 hover:opacity-100 transition-opacity`},y)})}),c!==void 0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-graphite-400 mb-2",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{className:h.text,children:[c,"%"]})]}),e.jsx("div",{className:"h-2 bg-graphite-800 rounded-full overflow-hidden",children:e.jsx(b.div,{initial:{width:0},animate:{width:`${c}%`},transition:{delay:d+.7,duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${h.bg} relative overflow-hidden`,children:e.jsx(b.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"}})})})]})]})]})}const Qa=({active:t,payload:n,label:o})=>t&&n&&n.length?e.jsxs(b.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-charcoal-900/95 backdrop-blur-xl border border-graphite-800 rounded-2xl p-4 shadow-xl",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-3",children:o}),n.map((i,r)=>e.jsxs("div",{className:"flex items-center justify-between gap-6 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),e.jsx("span",{className:"text-xs text-graphite-400",children:i.name})]}),e.jsx("span",{className:"text-sm font-bold text-white",children:i.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})})]},r))]}):null;function Ae({period:t="Ano",cnpj:n="26888098000159",selectedMonth:o}){const[i,r]=m.useState([{month:"Jan",receita:0,despesa:0,saldo:0},{month:"Fev",receita:0,despesa:0,saldo:0},{month:"Mar",receita:0,despesa:0,saldo:0},{month:"Abr",receita:0,despesa:0,saldo:0},{month:"Mai",receita:0,despesa:0,saldo:0},{month:"Jun",receita:0,despesa:0,saldo:0},{month:"Jul",receita:0,despesa:0,saldo:0},{month:"Ago",receita:0,despesa:0,saldo:0},{month:"Set",receita:0,despesa:0,saldo:0},{month:"Out",receita:0,despesa:0,saldo:0},{month:"Nov",receita:0,despesa:0,saldo:0},{month:"Dez",receita:0,despesa:0,saldo:0}]);m.useEffect(()=>{s()},[t,n,o]);const s=async()=>{try{const d=await O.getDRE(n);if(!d||d.length===0)return;const c=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],j={},[h]=o?o.split("-").map(Number):[new Date().getFullYear()],p=h;c.forEach(g=>{j[g]={month:g,receita:0,despesa:0,saldo:0}}),d.forEach(g=>{const y=new Date(g.data);if(y.getFullYear()!==p)return;const S=y.getMonth(),w=c[S];g.natureza==="receita"?j[w].receita+=g.valor:g.natureza==="despesa"&&(j[w].despesa+=Math.abs(g.valor))}),Object.values(j).forEach(g=>{g.saldo=g.receita-g.despesa});const N=c.map(g=>j[g]);r(N)}catch(d){console.error("Erro ao carregar dados de fluxo de caixa:",d)}};return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"neomorphic neomorphic-hover rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Fluxo de Caixa"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Receitas vs Despesas (2024)"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Receita"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Despesa"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-graphite-300 font-medium",children:"Saldo"})]})]})]}),e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"h-80",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ve,{data:t==="Ano"?i:t==="MÃªs"?i.slice(-4):t==="Semana"?i.slice(-2):i.slice(-1),margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorReceita",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorDespesa",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorSaldo",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ff7a00",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#ff7a00",stopOpacity:0})]})]}),e.jsx(Z,{strokeDasharray:"3 3",stroke:"#2a2a2a",opacity:.3}),e.jsx(Q,{dataKey:"month",stroke:"#6d6d6d",tick:{fill:"#888888",fontSize:12},tickLine:!1}),e.jsx(ee,{stroke:"#6d6d6d",tick:{fill:"#888888",fontSize:12},tickLine:!1,tickFormatter:d=>d>=1e6?`R$ ${(d/1e6).toFixed(1)}M`:d>=1e3?`R$ ${(d/1e3).toFixed(0)}k`:`R$ ${d}`}),e.jsx(U,{content:e.jsx(Qa,{}),cursor:{stroke:"#ff7a00",strokeWidth:1}}),e.jsx(q,{type:"monotone",dataKey:"receita",name:"Receita",stroke:"#10b981",strokeWidth:2,fill:"url(#colorReceita)",animationDuration:1500}),e.jsx(q,{type:"monotone",dataKey:"despesa",name:"Despesa",stroke:"#ef4444",strokeWidth:2,fill:"url(#colorDespesa)",animationDuration:1500}),e.jsx(q,{type:"monotone",dataKey:"saldo",name:"Saldo",stroke:"#ff7a00",strokeWidth:3,fill:"url(#colorSaldo)",animationDuration:1500})]})})}),e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-graphite-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Total Receita"}),e.jsx("p",{className:"text-lg font-bold text-emerald-400",children:"R$ 8.490.000"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Total Despesa"}),e.jsx("p",{className:"text-lg font-bold text-red-400",children:"R$ 4.780.000"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-graphite-400 mb-1",children:"Saldo LÃ­quido"}),e.jsx("p",{className:"text-lg font-bold text-gold-400",children:"R$ 3.710.000"})]})]})]})}function es(){const[t,n]=m.useState(!1),[o,i]=m.useState(!0);return e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"neomorphic rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white font-display mb-1",children:"CartÃ£o Corporativo"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Limite e saldo disponÃ­vel"})]}),e.jsxs(b.div,{animate:{rotateY:t?180:0},transition:{duration:.6,type:"spring"},className:"relative preserve-3d cursor-pointer",onClick:()=>n(!t),style:{transformStyle:"preserve-3d"},children:[e.jsx(b.div,{className:"backface-hidden relative",style:{backfaceVisibility:"hidden"},children:e.jsxs("div",{className:"bg-gradient-to-br from-gold-500 via-gold-600 to-gold-700 rounded-2xl p-8 shadow-2xl shadow-gold-500/20 relative overflow-hidden group",children:[e.jsx(b.div,{className:"absolute inset-0 opacity-20",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),e.jsx(b.div,{className:"absolute -inset-1 bg-gradient-to-r from-gold-400 to-gold-600 rounded-3xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-500",style:{zIndex:-1}}),e.jsxs("div",{className:"relative z-10 flex items-start justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 font-medium mb-1",children:"Conta Empresarial"}),e.jsx(b.p,{className:"text-2xl font-bold text-white font-display",animate:{opacity:o?1:0},children:o?"R$ 2.847.920,00":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>{r.stopPropagation(),i(!o)},className:"p-2 rounded-xl bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-colors",children:o?e.jsx(pa,{className:"w-5 h-5 text-white"}):e.jsx(ua,{className:"w-5 h-5 text-white"})})]}),e.jsxs(b.div,{whileHover:{scale:1.05,rotate:5},className:"w-12 h-10 rounded-lg bg-gradient-to-br from-yellow-200 to-yellow-400 mb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-1 border border-yellow-600/30 rounded-md"}),e.jsx("div",{className:"absolute inset-2 border border-yellow-600/20 rounded-sm"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-white text-lg font-mono tracking-wider",children:"â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 8492"}),e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r=>r.stopPropagation(),className:"p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(ha,{className:"w-4 h-4 text-white"})})]})}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Titular"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"BPO FINANCIAL LTDA"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Validade"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"12/28"})]}),e.jsxs(b.div,{whileHover:{scale:1.1},className:"flex flex-col items-end",children:[e.jsx(ga,{className:"w-8 h-8 text-white/90"}),e.jsx("span",{className:"text-[10px] text-white/70 font-bold mt-1",children:"CORPORATE"})]})]})]})}),e.jsx(b.div,{className:"absolute inset-0 backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsxs("div",{className:"bg-gradient-to-br from-charcoal-900 to-charcoal-950 rounded-3xl p-6 shadow-2xl h-full",children:[e.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-graphite-900 to-graphite-800 mt-4 mb-6 rounded-lg"}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"CVV"}),e.jsx("p",{className:"text-lg font-mono font-bold text-white",children:"â€¢â€¢â€¢"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/70 mb-1",children:"CÃ³digo de SeguranÃ§a"}),e.jsx("p",{className:"text-xs text-white/50",children:"NÃ£o compartilhe"})]})]})}),e.jsxs("div",{className:"space-y-3 text-xs text-white/60",children:[e.jsx("p",{children:"Este cartÃ£o Ã© de uso exclusivo corporativo"}),e.jsx("p",{children:"Em caso de perda, bloqueie imediatamente"}),e.jsx("p",{className:"text-gold-400 font-semibold",children:"Suporte: 0800 XXX XXXX"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-white/50",children:"MastercardÂ® Corporate"}),e.jsx("span",{className:"text-xs text-white/50",children:"ID: #BPO-2024-8492"})]})]})})]}),e.jsx(b.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-xs text-graphite-400 mt-3",children:"Clique no cartÃ£o para visualizar o verso"})]})}const as={success:{label:"ConcluÃ­do",color:"emerald",bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20"},pending:{label:"Pendente",color:"gold",bg:"bg-gold-500/10",text:"text-gold-400",border:"border-gold-500/20"},failed:{label:"Falhou",color:"red",bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20"}};function ea(){const[t,n]=m.useState([]),[o,i]=m.useState(""),[r,s]=m.useState([]),[d,c]=m.useState(!0),[j,h]=m.useState("");return m.useEffect(()=>{(async()=>{try{const p=await O.getCompanies();n(p||[]);const N=(p||[]).find(S=>String(S.cnpj||"").replace(/^0+/,"").endsWith("0159"))?.cnpj,g=(p||[]).find(S=>String(S.grupo_empresarial||"").toLowerCase().includes("volpe"))?.cnpj,y=N||g||p&&p[0]?.cnpj||"";i(y)}catch{h("Falha ao carregar empresas")}})()},[]),m.useEffect(()=>{o&&(c(!0),h(""),(async()=>{try{const p=await O.getDFC(o);s(Array.isArray(p)?p:[])}catch{h("Falha ao carregar extrato")}finally{c(!1)}})())},[o]),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"neomorphic neomorphic-hover border border-graphite-800/30 rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"p-8 border-b border-graphite-800/30",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white font-display",children:"TransaÃ§Ãµes Recentes"}),e.jsx("p",{className:"text-sm text-graphite-400 mt-1",children:"Ãšltimas movimentaÃ§Ãµes financeiras"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-graphite-400"}),e.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-9 pr-3 py-2 neomorphic-inset border border-graphite-800/20 rounded-xl text-sm text-white placeholder-graphite-500 focus:outline-none focus:border-gold-500 transition-all w-48"})]}),e.jsxs("select",{className:"px-4 py-2 neomorphic-inset border border-graphite-800/20 rounded-xl text-sm text-white focus:outline-none focus:border-gold-500 transition-all",children:[e.jsx("option",{children:"Todos"}),e.jsx("option",{children:"Hoje"}),e.jsx("option",{children:"Esta Semana"}),e.jsx("option",{children:"Este MÃªs"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-graphite-800",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"DescriÃ§Ã£o"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"Saldo"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-graphite-400 uppercase tracking-wider",children:"AÃ§Ãµes"})]})}),e.jsxs("tbody",{children:[(d?[]:r).map((p,N)=>{const g=(p.entrada||0)-(p.saida||0),y=g>=0?"income":"expense",S=as[y==="income"?"success":"pending"];return e.jsxs(b.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+N*.05},whileHover:{backgroundColor:"rgba(255, 122, 0, 0.03)"},className:"border-b border-graphite-800/50 last:border-0 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b.div,{whileHover:{scale:1.1,rotate:5},className:"w-10 h-10 rounded-xl bg-gradient-to-br from-graphite-800 to-graphite-900 flex items-center justify-center text-xl group-hover:shadow-lg transition-shadow",children:"ðŸ’¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:p.descricao||"LanÃ§amento"}),e.jsx("p",{className:"text-xs text-graphite-400",children:y==="income"?"Entrada":"SaÃ­da"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm text-graphite-300",children:p.data||"-"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1 rounded-lg ${y==="income"?"bg-emerald-500/10":"bg-red-500/10"}`,children:y==="income"?e.jsx(He,{className:"w-4 h-4 text-emerald-400"}):e.jsx(fa,{className:"w-4 h-4 text-red-400"})}),e.jsxs("span",{className:`text-sm font-bold ${y==="income"?"text-emerald-400":"text-red-400"}`,children:[g>0?"+":"",Number(g).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(b.span,{whileHover:{scale:1.05},className:`inline-flex items-center px-3 py-1 rounded-lg text-xs font-semibold border ${S.bg} ${S.text} ${S.border}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${S.text.replace("text-","bg-")} mr-2`}),Number(p.saldo||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx(b.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-2 rounded-lg hover:bg-graphite-800 text-graphite-400 hover:text-white transition-all",children:e.jsx(ba,{className:"w-4 h-4"})})})]},p.id||N)}),!d&&r.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-graphite-400",children:["Nenhum lanÃ§amento encontrado para ",o||"empresa"]})})]})]})}),e.jsxs("div",{className:"p-6 border-t border-graphite-800 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-graphite-400",children:[d?"Carregando...":`Mostrando ${r.length} lanÃ§amentos`," ",o&&e.jsxs("span",{className:"text-white font-semibold",children:["â€¢ ",o]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:o,onChange:p=>i(p.target.value),className:"px-4 py-2 bg-graphite-800 text-white rounded-xl text-sm",children:[e.jsx("option",{value:"",children:"Selecione CNPJ"}),t.map(p=>e.jsxs("option",{value:p.cnpj,children:[p.cliente_nome," â€¢ ",p.cnpj]},p.cnpj))]})})]})]})}function ss({cnpj:t="26888098000159",selectedMonth:n}){const[o,i]=m.useState([{name:"ServiÃ§os BPO",value:58e4,color:"#ff7a00",percentage:45},{name:"Consultoria",value:32e4,color:"#10b981",percentage:25},{name:"Software",value:25e4,color:"#3b82f6",percentage:20},{name:"Outros",value:13e4,color:"#8b5cf6",percentage:10}]),[r,s]=m.useState(73),[d,c]=m.useState(8.2);m.useEffect(()=>{j()},[t,n]);const j=async()=>{try{const p=await O.getDRE(t);if(!p||p.length===0)return;const N={},[g]=n?n.split("-").map(Number):[new Date().getFullYear()],y=g;p.forEach(u=>{if(new Date(u.data).getFullYear()===y&&u.natureza==="receita"&&u.valor>0){const l=u.conta.split("-")[0].substring(0,1),C=l==="3"?"ServiÃ§os BPO":l==="4"?"Consultoria":l==="5"?"Software":"Outros";N[C]||(N[C]=0),N[C]+=u.valor}});const S=Object.values(N).reduce((u,E)=>u+E,0),w=["#ff7a00","#10b981","#3b82f6","#8b5cf6"],R=Object.entries(N).map(([u,E],l)=>({name:u,value:E,color:w[l]||"#8b5cf6",percentage:Math.round(E/S*100)})).sort((u,E)=>E.value-u.value);if(R.length>0){i(R);const E=Math.round(S/8e5*100);s(Math.min(E,100))}}catch(p){console.error("Erro ao carregar dados de receita:",p)}},h=o.reduce((p,N)=>p+N.value,0);return e.jsxs(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.3},className:"neomorphic neomorphic-hover rounded-3xl p-8 border border-graphite-800/30",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"DistribuiÃ§Ã£o de Receita"}),e.jsx("p",{className:"text-sm text-graphite-400",children:"Por categoria de serviÃ§o"})]}),e.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[e.jsxs("svg",{width:"280",height:"180",viewBox:"0 0 280 180",className:"transform -rotate-0",children:[e.jsx("path",{d:"M 40 140 A 100 100 0 0 1 240 140",fill:"none",stroke:"#2a2a2a",strokeWidth:"24",strokeLinecap:"round"}),e.jsx(b.path,{d:"M 40 140 A 100 100 0 0 1 240 140",fill:"none",stroke:"url(#gaugeGradient)",strokeWidth:"24",strokeLinecap:"round",strokeDasharray:"314",initial:{strokeDashoffset:314},animate:{strokeDashoffset:314-314*r/100},transition:{duration:2,ease:"easeOut"}}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#10b981"}),e.jsx("stop",{offset:"50%",stopColor:"#ff7a00"}),e.jsx("stop",{offset:"100%",stopColor:"#ef4444"})]})})]}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/4 text-center",children:e.jsxs(b.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring"},children:[e.jsxs("p",{className:"text-4xl font-bold text-white font-display mb-1",children:[r,"%"]}),e.jsx("p",{className:"text-xs text-graphite-400",children:"Meta Atingida"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-400"}),e.jsxs("span",{className:"text-sm font-semibold text-emerald-400",children:["+",d.toFixed(1),"%"]})]})]})})]}),e.jsx("div",{className:"space-y-3",children:o.map((p,N)=>e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.9+N*.1},className:"group/item",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b.div,{whileHover:{scale:1.2},className:"w-3 h-3 rounded-full",style:{backgroundColor:p.color}}),e.jsx("span",{className:"text-sm text-graphite-300 group-hover/item:text-white transition-colors",children:p.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-bold text-white",children:p.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})}),e.jsxs("span",{className:"text-xs text-graphite-400 ml-2",children:["(",p.percentage,"%)"]})]})]}),e.jsx("div",{className:"h-2 bg-graphite-800 rounded-full overflow-hidden",children:e.jsx(b.div,{initial:{width:0},animate:{width:`${p.percentage}%`},transition:{delay:1+N*.1,duration:.8,ease:"easeOut"},className:"h-full rounded-full relative",style:{backgroundColor:p.color},children:e.jsx(b.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear",delay:1.5+N*.1},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})})]},p.name))}),e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"mt-6 pt-6 border-t border-graphite-800 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-graphite-400",children:"Total de Receita"}),e.jsx("span",{className:"text-lg font-bold text-gold-400",children:h.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0})})]})]})}function ts(t){return["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][t.getMonth()]}function rs({period:t="Ano",session:n}){const[o,i]=m.useState([]),[r,s]=m.useState(""),[d,c]=m.useState([]),[j,h]=m.useState(!0),[p,N]=m.useState("");m.useEffect(()=>{(async()=>{try{const u=await O.getCompanies();i(u||[]),s("26888098000159")}catch{N("Falha ao carregar empresas")}})()},[]),m.useEffect(()=>{r&&(h(!0),(async()=>{try{const u=await O.getDFC(r);c(Array.isArray(u)?u:[])}finally{h(!1)}})())},[r]);const{receitaTotal:g,despesasTotal:y,lucro:S}=m.useMemo(()=>{const u=d.reduce((E,l)=>(E.receitaTotal+=Number(l.entrada||0),E.despesasTotal+=Number(l.saida||0),E),{receitaTotal:0,despesasTotal:0});return{...u,lucro:u.receitaTotal-u.despesasTotal}},[d]),w=m.useMemo(()=>{const u=new Map;d.forEach(l=>{const C=l.data?new Date(l.data):new Date,M=ts(C),A=u.get(M)||{month:M,receita:0,despesas:0};A.receita+=Number(l.entrada||0),A.despesas+=Number(l.saida||0),u.set(M,A)});const E=Array.from(u.values());return t==="Ano"?E:t==="MÃªs"?E.slice(-1):t==="Semana"?E.slice(-1).map(l=>({...l,month:"Semana"})):E.slice(-1).map(l=>({...l,month:"Hoje"}))},[d,t]),R=[{name:"Receita",value:g,delta:0},{name:"Despesas",value:y,delta:0},{name:"Lucro",value:S,delta:0}];return e.jsxs(za,{numItemsSm:1,numItemsMd:2,numItemsLg:3,className:"gap-6",children:[R.map(u=>e.jsxs(Ee,{decoration:"top",decorationColor:"orange",className:"rounded-3xl bg-card border border-border shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(De,{children:u.name}),e.jsxs($a,{deltaType:u.delta>=0?"moderateIncrease":"moderateDecrease",children:[u.delta,"%"]})]}),e.jsxs(Fa,{children:["R$ ",Number(u.value).toLocaleString("pt-BR")]}),e.jsx(Re,{className:"mt-2 text-sm text-muted-foreground",children:j?"Carregando...":`Empresa ${r||""}`})]},u.name)),e.jsxs(Ee,{className:"rounded-3xl col-span-1 md:col-span-2 bg-card border border-border shadow-card",children:[e.jsx(De,{children:"EvoluÃ§Ã£o Mensal"}),e.jsx(Re,{className:"text-sm text-muted-foreground",children:"Receita vs Despesas"}),e.jsx("div",{className:"mt-4 h-56",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Ne,{data:w,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"barReceita",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"10%",stopColor:"#ff7a00",stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:"#ff7a00",stopOpacity:.4})]}),e.jsxs("linearGradient",{id:"barDespesas",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"10%",stopColor:"#38bdf8",stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:"#38bdf8",stopOpacity:.4})]}),e.jsx("filter",{id:"barShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3","flood-color":"#000","flood-opacity":"0.35"})})]}),e.jsx(Z,{stroke:"rgba(200,200,200,0.12)",vertical:!1}),e.jsx(Q,{dataKey:"month",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(ee,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12},tickFormatter:u=>`R$ ${Number(u).toLocaleString("pt-BR")}`}),e.jsx(U,{contentStyle:{background:"#11161C",border:"1px solid #1B232C"},formatter:u=>`R$ ${Number(u).toLocaleString("pt-BR")}`}),e.jsx(ce,{}),e.jsx(de,{dataKey:"receita",name:"Receita",fill:"url(#barReceita)",radius:[8,8,0,0],filter:"url(#barShadow)"}),e.jsx(de,{dataKey:"despesas",name:"Despesas",fill:"url(#barDespesas)",radius:[8,8,0,0],filter:"url(#barShadow)"})]})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Empresa/CNPJ"}),e.jsxs("select",{value:r,onChange:u=>s(u.target.value),className:"mt-1 px-3 py-2 bg-graphite-900 border border-graphite-800 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"Selecione"}),o.map(u=>e.jsxs("option",{value:u.cnpj,children:[u.cliente_nome," â€¢ ",u.cnpj]},u.cnpj))]})]})]})]})}function os(){const[t,n]=m.useState([]),[o,i]=m.useState(""),[r,s]=m.useState(0),[d,c]=m.useState(0),[j,h]=m.useState(!0),[p,N]=m.useState("");return m.useEffect(()=>{(async()=>{try{const g=await O.getCompanies();n(g||[]);const y=(g||[]).find(R=>String(R.cnpj||"").replace(/^0+/,"").endsWith("0159"))?.cnpj,S=(g||[]).find(R=>String(R.cliente_nome||"").toLowerCase().includes("volpe")||String(R.grupo_empresarial||"").toLowerCase().includes("volpe"))?.cnpj,w=y||S||g&&g[0]?.cnpj||"";i(w)}catch{N("Falha ao carregar empresas")}})()},[]),m.useEffect(()=>{o&&(h(!0),(async()=>{try{const g=await O.getDRE(o);s(Array.isArray(g)?g.length:0);const y=await O.getDFC(o);c(Array.isArray(y)?y.length:0)}catch{N("Falha ao carregar relatÃ³rios")}finally{h(!1)}})())},[o]),e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"RelatÃ³rios Gerenciais"}),p&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:p}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"DRE Consolidada"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j?"Carregando...":`${r} linhas`})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"Fluxo de Caixa"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j?"Carregando...":`${d} lanÃ§amentos`})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-graphite-900 border border-graphite-800",children:[e.jsx("p",{className:"text-sm",children:"Receita por Cliente"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j?"Carregando...":`${t.length} clientes`})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Empresa/CNPJ"}),e.jsxs("select",{value:o,onChange:g=>i(g.target.value),className:"mt-1 px-3 py-2 bg-graphite-900 border border-graphite-800 rounded-md text-sm",children:[e.jsx("option",{value:"",children:"Selecione"}),t.map(g=>e.jsxs("option",{value:g.cnpj,children:[g.cliente_nome," â€¢ ",g.cnpj]},g.cnpj))]})]})]})})}function ns(){const[t,n]=m.useState([]),[o,i]=m.useState(!0),[r,s]=m.useState("");return m.useEffect(()=>{(async()=>{try{const d=await O.getCompanies();n(Array.isArray(d)?d:[])}catch{s("Falha ao carregar clientes")}finally{i(!1)}})()},[]),e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes â€¢ Dados Reais"}),r&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:r}),e.jsx("div",{className:"mt-4 rounded-2xl border border-border overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-graphite-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Cliente"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Grupo"})]})}),e.jsxs("tbody",{children:[(o?[]:t).map((d,c)=>e.jsxs("tr",{className:"border-t border-border",children:[e.jsx("td",{className:"p-3",children:d.cliente_nome}),e.jsx("td",{className:"p-3",children:d.cnpj}),e.jsx("td",{className:"p-3",children:d.grupo_empresarial})]},c)),!o&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"p-3 text-sm text-muted-foreground",colSpan:3,children:"Nenhum cliente encontrado"})})]})]})})]})}function J(...t){return Va(La(t))}function L({className:t,...n}){return e.jsx("div",{className:J("bg-card border border-border rounded-3xl shadow-card transition-all duration-300",t),...n})}function B({className:t,...n}){return e.jsx("div",{className:J("flex items-center justify-between p-4 pb-2",t),...n})}function V({className:t,...n}){return e.jsx("h3",{className:J("text-sm text-foreground",t),...n})}function _({className:t,...n}){return e.jsx("div",{className:J("p-4 pt-2",t),...n})}const ge=ya,fe=wa,ie=m.forwardRef(({className:t,...n},o)=>e.jsx(qe,{ref:o,className:"inline-flex items-center justify-between gap-2 rounded-lg border border-[#1B232C] bg-[#0a0f14] px-3 py-1.5 text-xs text-gray-300 shadow-sm hover:bg-[#0f141b] focus:outline-none",...n}));ie.displayName=qe.displayName;const le=m.forwardRef(({className:t,children:n,position:o="popper",...i},r)=>e.jsx(ja,{children:e.jsx(Je,{ref:r,className:"z-50 min-w-[8rem] overflow-hidden rounded-xl border border-[#1B232C] bg-[#0a0f14] p-1 shadow-xl",position:o,...i,children:e.jsx(va,{className:"p-1",children:n})})}));le.displayName=Je.displayName;const X=m.forwardRef(({className:t,children:n,...o},i)=>e.jsx(Ke,{ref:i,className:"relative flex w-full cursor-pointer select-none items-center rounded-lg px-3 py-2 text-xs text-gray-300 outline-none data-[highlighted]:bg-[#0f141b]",...o,children:e.jsx(Na,{children:n})}));X.displayName=Ke.displayName;const ye=Ca,ue=m.forwardRef(({className:t,...n},o)=>e.jsx(Ue,{ref:o,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));ue.displayName=Ue.displayName;const $=m.forwardRef(({className:t,...n},o)=>e.jsx(Ye,{ref:o,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));$.displayName=Ye.displayName;const F=m.forwardRef(({className:t,...n},o)=>e.jsx(Xe,{ref:o,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));F.displayName=Xe.displayName;const Me=t=>String(t).padStart(2,"0"),Oe=t=>{const n=new Set;if(t.forEach(r=>{if(!r)return;const s=r.slice(0,7);/^\d{4}-\d{2}$/.test(s)&&n.add(s)}),n.size===0){const r=new Date().getFullYear().toString();return Array.from({length:12},(s,d)=>`${r}-${Me(d+1)}`)}const o=Array.from(new Set(Array.from(n).map(r=>r.split("-")[0]))).sort(),i=[];return o.forEach(r=>{for(let s=1;s<=12;s+=1)i.push(`${r}-${Me(s)}`)}),i};function Pe({className:t}){const[n,o]=m.useState([]),[i,r]=m.useState("26888098000159"),[s,d]=m.useState("all"),[c,j]=m.useState([]),[h,p]=m.useState([]),[N,g]=m.useState(!1);m.useEffect(()=>{y()},[]),m.useEffect(()=>{i&&S(i)},[i]);const y=async()=>{try{const x=(await O.getCompanies()).filter(f=>f.cliente_nome?.toLowerCase().includes("volpe")||String(f.cnpj||"").startsWith("26888098")).map(f=>({...f,cnpj:f.cnpj?f.cnpj.replace(/^0+/,""):f.cnpj})).sort((f,v)=>{const D=String(f.cnpj||"")==="26888098000159"?-1:1,T=String(v.cnpj||"")==="26888098000159"?-1:1;return D-T});o(x)}catch(a){console.error("Erro ao carregar empresas:",a)}},S=async a=>{g(!0);try{console.log("ðŸ” Buscando dados para CNPJ:",a);const[x,f]=await Promise.all([O.getDRE(a),O.getDFC(a)]);console.log("âœ… DRE recebido:",x?.length||0,"registros"),console.log("âœ… DFC recebido:",f?.length||0,"registros"),x&&x.length>0&&console.log("ðŸ“ Amostra DRE:",x[0]),f&&f.length>0&&console.log("ðŸ“ Amostra DFC:",f[0]);const v=x&&x.length>0?x:w(),D=f&&f.length>0?f:R();j(v),p(D)}catch(x){console.error("âŒ Erro ao carregar dados:",x),j(w()),p(R())}finally{g(!1)}},w=()=>{const a=["2024-09","2024-10","2024-11","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08","2025-09","2025-10","2025-11"],x=[{conta:"Receita de ServiÃ§os BPO",natureza:"receita",baseValue:85e4},{conta:"Receita de Consultoria",natureza:"receita",baseValue:32e4},{conta:"Outras Receitas Operacionais",natureza:"receita",baseValue:45e3},{conta:"SalÃ¡rios e Encargos",natureza:"despesa",baseValue:-52e4},{conta:"ServiÃ§os de Terceiros",natureza:"despesa",baseValue:-18e4},{conta:"Despesas Administrativas",natureza:"despesa",baseValue:-95e3},{conta:"Despesas com TI e Software",natureza:"despesa",baseValue:-78e3},{conta:"Aluguel e CondomÃ­nio",natureza:"despesa",baseValue:-42e3},{conta:"Despesas com Viagens",natureza:"despesa",baseValue:-28e3},{conta:"Marketing e Publicidade",natureza:"despesa",baseValue:-35e3},{conta:"Treinamento e CapacitaÃ§Ã£o",natureza:"despesa",baseValue:-22e3},{conta:"Despesas Financeiras",natureza:"despesa",baseValue:-18e3}],f=[];return a.forEach(v=>{x.forEach(D=>{const T=.85+Math.random()*.3;f.push({data:`${v}-15`,conta:D.conta,natureza:D.natureza,valor:Math.round(D.baseValue*T)})})}),f},R=()=>{const a=["2024-09","2024-10","2024-11","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08","2025-09","2025-10","2025-11"],x=[{descricao:"Recebimento de Clientes",entrada:98e4,saida:0},{descricao:"Pagamento de Fornecedores",entrada:0,saida:42e4},{descricao:"Pagamento de SalÃ¡rios",entrada:0,saida:52e4},{descricao:"Pagamento de Impostos",entrada:0,saida:125e3},{descricao:"Pagamento de Aluguel",entrada:0,saida:42e3},{descricao:"Investimentos em TI",entrada:0,saida:85e3},{descricao:"EmprÃ©stimos BancÃ¡rios",entrada:15e4,saida:0},{descricao:"AmortizaÃ§Ã£o de DÃ­vidas",entrada:0,saida:65e3}],f=[];return a.forEach(v=>{x.forEach(D=>{const T=.9+Math.random()*.2;f.push({data:`${v}-15`,descricao:D.descricao,entrada:Math.round(D.entrada*T),saida:Math.round(D.saida*T)})})}),f},u=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),E=n.find(a=>a.cnpj===i)?.cliente_nome||"Empresa",l=Oe(c.map(a=>a.data)),C=Oe(h.map(a=>a.data));console.log("ðŸ“Š DRE Data:",c.length,"registros"),console.log("ðŸ“Š DFC Data:",h.length,"registros"),console.log("ðŸ“… DRE Months:",l),console.log("ðŸ“… DFC Months:",C);const M=c.reduce((a,x)=>{const f=x.natureza||"Outros";return a[f]=(a[f]||0)+Number(x.valor||0),a},{}),A=(()=>{const a={};return c.forEach(x=>{const f=x.data?x.data.slice(0,7):l[0],v=x.natureza||"Outros",D=Number(x.valor||0);a[v]||(a[v]={}),a[v][f]=(a[v][f]||0)+D}),l.map(x=>{const f={month:x};return Object.entries(a).forEach(([v,D])=>{f[v]=D[x]||0}),f})})(),k=(()=>{const a={};return h.forEach(x=>{const f=x.data?x.data.slice(0,7):C[0];a[f]||(a[f]={entradas:0,saidas:0}),a[f].entradas+=Number(x.entrada||0),a[f].saidas+=Number(x.saida||0)}),C.map(x=>{const f=a[x]?.entradas||0,v=a[x]?.saidas||0;return{month:x,entradas:f,saidas:v,saldo:f-v}})})(),z=k.reduce((a,x)=>(a.entradas+=x.entradas,a.saidas+=x.saidas,a.saldo+=x.saldo,a),{entradas:0,saidas:0,saldo:0}),H=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],I=(()=>{if(!c||c.length===0)return[];const a={};return c.forEach(x=>{const f=x.data?x.data.slice(0,7):"",v=x.conta||"Outros",D=x.natureza||"Outros",T=Number(x.valor||0);a[v]||(a[v]={conta:v,natureza:D,total:0},l.forEach(Y=>{a[v][Y]=0})),f&&(a[v][f]===void 0&&(a[v][f]=0),a[v][f]+=T),a[v].total+=T}),Object.values(a).filter(x=>Math.abs(x.total)>0).sort((x,f)=>Math.abs(f.total)-Math.abs(x.total)).slice(0,50)})(),P=(()=>{if(!h||h.length===0)return[];const a={};return h.forEach(x=>{const f=x.data?x.data.slice(0,7):"",v=x.descricao||"Outros",D=Number(x.entrada||0),T=Number(x.saida||0);a[v]||(a[v]={categoria:v,totalEntradas:0,totalSaidas:0,saldo:0},C.forEach(Y=>{a[v][`${Y}_entrada`]=0,a[v][`${Y}_saida`]=0})),f&&(a[v][`${f}_entrada`]===void 0&&(a[v][`${f}_entrada`]=0),a[v][`${f}_saida`]===void 0&&(a[v][`${f}_saida`]=0),a[v][`${f}_entrada`]+=D,a[v][`${f}_saida`]+=T),a[v].totalEntradas+=D,a[v].totalSaidas+=T,a[v].saldo+=D-T}),Object.values(a).filter(x=>Math.abs(x.saldo)>0||x.totalEntradas>0||x.totalSaidas>0).sort((x,f)=>Math.abs(f.saldo)-Math.abs(x.saldo)).slice(0,30)})(),he=c.slice(0,100).map(a=>({data:a.data,tipo:"DRE",conta:a.conta,natureza:a.natureza,valor:a.valor}));return e.jsxs("div",{className:t,children:[e.jsx("div",{className:"mb-6",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{className:"text-lg",children:"AnÃ¡lises - SeleÃ§Ã£o de Empresa"})}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Empresa:"}),e.jsxs(ge,{value:i,onValueChange:r,children:[e.jsx(ie,{className:"w-[300px]",children:e.jsx(fe,{placeholder:"Selecione uma empresa"})}),e.jsx(le,{children:n.map(a=>e.jsxs(X,{value:a.cnpj,children:[a.cliente_nome," (",a.cnpj,")"]},a.cnpj))})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Visualizando: ",E]})]})})]})}),N?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando dados..."})}):e.jsxs(ye,{defaultValue:"dre",className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-4",children:[e.jsx($,{value:"dre",children:"DRE"}),e.jsx($,{value:"dfc",children:"DFC"}),e.jsx($,{value:"lancamentos",children:"LanÃ§amentos"}),e.jsx($,{value:"graficos",children:"GrÃ¡ficos"})]}),e.jsx(F,{value:"dre",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{children:"DRE - DemonstraÃ§Ã£o de Resultados por MÃªs"}),e.jsxs(ge,{value:s,onValueChange:d,children:[e.jsx(ie,{className:"w-[200px]",children:e.jsx(fe,{placeholder:"Selecione o mÃªs"})}),e.jsxs(le,{children:[e.jsx(X,{value:"all",children:"Todos os meses"}),l.slice().reverse().map(a=>e.jsx(X,{value:a,children:new Date(a+"-01").toLocaleDateString("pt-BR",{month:"long",year:"numeric"})},a))]})]})]})}),e.jsx(_,{children:c.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left sticky left-0 bg-muted z-10",children:"Conta"}),e.jsx("th",{className:"border p-2 text-left",children:"Natureza"}),(s==="all"?l:[s]).map(a=>e.jsx("th",{className:"border p-2 text-right whitespace-nowrap",children:s==="all"?a.slice(5):new Date(a+"-01").toLocaleDateString("pt-BR",{month:"short",year:"numeric"})},a)),s==="all"&&e.jsx("th",{className:"border p-2 text-right font-bold bg-blue-50",children:"Total"})]})}),e.jsx("tbody",{children:I.length>0?I.map((a,x)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2 text-left sticky left-0 bg-background font-medium text-xs",children:a.conta}),e.jsx("td",{className:"border p-2 text-left",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.natureza==="receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.natureza})}),(s==="all"?l:[s]).map(f=>{const v=a[f]||0;return e.jsx("td",{className:"border p-2 text-right text-xs",children:Math.abs(v)>.01?u(v):"-"},f)}),s==="all"&&e.jsx("td",{className:"border p-2 text-right font-bold bg-blue-50 text-xs",children:u(a.total)})]},x)):e.jsx("tr",{children:e.jsx("td",{colSpan:l.length+3,className:"border p-4 text-center text-muted-foreground",children:"Nenhum dado DRE disponÃ­vel"})})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-muted font-bold",children:[e.jsx("td",{className:"border p-2",colSpan:2,children:"TOTAIS"}),(s==="all"?l:[s]).map(a=>{const x=I.reduce((f,v)=>f+(v[a]||0),0);return e.jsx("td",{className:"border p-2 text-right",children:u(x)},a)}),s==="all"&&e.jsx("td",{className:"border p-2 text-right bg-blue-100",children:u(I.reduce((a,x)=>a+x.total,0))})]})})]})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado DRE disponÃ­vel para esta empresa"})})]})}),e.jsx(F,{value:"dfc",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{children:"DFC - DemonstraÃ§Ã£o de Fluxo de Caixa por MÃªs"}),e.jsxs(ge,{value:s,onValueChange:d,children:[e.jsx(ie,{className:"w-[200px]",children:e.jsx(fe,{placeholder:"Selecione o mÃªs"})}),e.jsxs(le,{children:[e.jsx(X,{value:"all",children:"Todos os meses"}),C.slice().reverse().map(a=>e.jsx(X,{value:a,children:new Date(a+"-01").toLocaleDateString("pt-BR",{month:"long",year:"numeric"})},a))]})]})]})}),e.jsx(_,{children:h.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left sticky left-0 bg-muted z-10",children:"Categoria"}),(s==="all"?C:[s]).map(a=>e.jsx("th",{className:"border p-2 text-center",colSpan:2,children:s==="all"?a.slice(5):new Date(a+"-01").toLocaleDateString("pt-BR",{month:"short",year:"numeric"})},a)),s==="all"&&e.jsx("th",{className:"border p-2 text-center bg-blue-50",colSpan:3,children:"Totais"})]}),e.jsxs("tr",{className:"bg-muted/50 text-xs",children:[e.jsx("th",{className:"border p-2"}),(s==="all"?C:[s]).map(a=>e.jsxs(re.Fragment,{children:[e.jsx("th",{className:"border p-2 text-right text-green-700",children:"Entrada"}),e.jsx("th",{className:"border p-2 text-right text-red-700",children:"SaÃ­da"})]},a)),s==="all"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"border p-2 text-right text-green-700 bg-green-50",children:"Entradas"}),e.jsx("th",{className:"border p-2 text-right text-red-700 bg-red-50",children:"SaÃ­das"}),e.jsx("th",{className:"border p-2 text-right text-blue-700 bg-blue-50",children:"Saldo"})]})]})]}),e.jsx("tbody",{children:P.length>0?P.map((a,x)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2 text-left sticky left-0 bg-background font-medium text-xs",children:a.categoria}),(s==="all"?C:[s]).map(f=>{const v=a[`${f}_entrada`]||0,D=a[`${f}_saida`]||0;return e.jsxs(re.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right text-green-600 text-xs",children:Math.abs(v)>.01?u(v):"-"}),e.jsx("td",{className:"border p-2 text-right text-red-600 text-xs",children:Math.abs(D)>.01?u(D):"-"})]},f)}),s==="all"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right text-green-700 bg-green-50 font-semibold text-xs",children:u(a.totalEntradas)}),e.jsx("td",{className:"border p-2 text-right text-red-700 bg-red-50 font-semibold text-xs",children:u(a.totalSaidas)}),e.jsx("td",{className:"border p-2 text-right text-blue-700 bg-blue-50 font-bold text-xs",children:u(a.saldo)})]})]},x)):e.jsx("tr",{children:e.jsx("td",{colSpan:(s==="all"?C.length:1)*2+(s==="all"?4:1),className:"border p-4 text-center text-muted-foreground",children:"Nenhum dado DFC disponÃ­vel"})})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-muted font-bold",children:[e.jsx("td",{className:"border p-2",children:"TOTAIS"}),(s==="all"?C:[s]).map(a=>{const x=P.reduce((v,D)=>v+(D[`${a}_entrada`]||0),0),f=P.reduce((v,D)=>v+(D[`${a}_saida`]||0),0);return e.jsxs(re.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right text-green-700",children:u(x)}),e.jsx("td",{className:"border p-2 text-right text-red-700",children:u(f)})]},a)}),s==="all"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"border p-2 text-right bg-green-100 text-green-900",children:u(P.reduce((a,x)=>a+x.totalEntradas,0))}),e.jsx("td",{className:"border p-2 text-right bg-red-100 text-red-900",children:u(P.reduce((a,x)=>a+x.totalSaidas,0))}),e.jsx("td",{className:"border p-2 text-right bg-blue-100 text-blue-900",children:u(P.reduce((a,x)=>a+x.saldo,0))})]})]})})]})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum dado DFC disponÃ­vel para esta empresa"})})]})}),e.jsx(F,{value:"lancamentos",className:"space-y-4",children:e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"LanÃ§amentos Brutos - Ãšltimos 100 Registros"})}),e.jsx(_,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted",children:[e.jsx("th",{className:"border p-2 text-left",children:"Data"}),e.jsx("th",{className:"border p-2 text-left",children:"Tipo"}),e.jsx("th",{className:"border p-2 text-left",children:"Conta"}),e.jsx("th",{className:"border p-2 text-left",children:"Natureza"}),e.jsx("th",{className:"border p-2 text-right",children:"Valor"})]})}),e.jsx("tbody",{children:he.map((a,x)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"border p-2",children:a.data}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:a.tipo})}),e.jsx("td",{className:"border p-2",children:a.conta}),e.jsx("td",{className:"border p-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.natureza==="receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.natureza})}),e.jsx("td",{className:"border p-2 text-right font-mono",children:u(a.valor||0)})]},x))})]})})})]})}),e.jsx(F,{value:"graficos",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DRE - EvoluÃ§Ã£o Mensal"})}),e.jsx(_,{children:c.length>0?e.jsx("div",{className:"h-80",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Ne,{data:A,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"month"}),e.jsx(ee,{tickFormatter:a=>`R$ ${(a/1e3).toFixed(0)}k`}),e.jsx(U,{formatter:a=>u(a)}),e.jsx(ce,{}),Object.keys(M).map((a,x)=>e.jsx(de,{dataKey:a,fill:H[x%H.length]},a))]})})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Sem dados"})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DFC - Fluxo de Caixa"})}),e.jsx(_,{children:h.length>0?e.jsx("div",{className:"h-80",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ve,{data:k,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"month"}),e.jsx(ee,{tickFormatter:a=>`R$ ${(a/1e3).toFixed(0)}k`}),e.jsx(U,{formatter:a=>u(a)}),e.jsx(ce,{}),e.jsx(q,{type:"monotone",dataKey:"entradas",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),e.jsx(q,{type:"monotone",dataKey:"saidas",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6}),e.jsx(Pa,{type:"monotone",dataKey:"saldo",stroke:"#3b82f6",strokeWidth:2})]})})}):e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Sem dados"})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DRE - Resumo por Natureza"})}),e.jsx(_,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(M).map(([a,x])=>{const f=Number(x||0),v=Object.values(M).reduce((T,Y)=>T+Math.abs(Number(Y)),0),D=v>0?Math.abs(f)/v*100:0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:a}),e.jsx("span",{className:f>=0?"text-green-600":"text-red-600",children:u(f)})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${f>=0?"bg-green-500":"bg-red-500"}`,style:{width:`${D}%`}})}),e.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[D.toFixed(1),"%"]})]},a)})})})]}),e.jsxs(L,{children:[e.jsx(B,{children:e.jsx(V,{children:"DFC - Resumo de Fluxo"})}),e.jsxs(_,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u(z.entradas)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Entradas"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u(z.saidas)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"SaÃ­das"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u(z.saldo)}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Saldo"})]})]}),e.jsx("div",{className:"h-48",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Ta,{children:[e.jsxs(ka,{data:[{name:"Entradas",value:z.entradas},{name:"SaÃ­das",value:Math.abs(z.saidas)}],cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:x})=>`${a} ${(x*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[e.jsx(Se,{fill:"#10b981"}),e.jsx(Se,{fill:"#ef4444"})]}),e.jsx(U,{formatter:a=>u(a)})]})})})]})]})]})})]})]})}function is(){return e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"card-premium p-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Extrato de LanÃ§amentos â€¢ Dados Reais"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registros financeiros consultados via Supabase"})]}),e.jsx(ea,{})]})}const ls=Ba("inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 border",{variants:{variant:{default:"bg-card text-foreground border-border hover:bg-[#0f141b]",primary:"bg-primary text-primary-foreground border-transparent hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground border-transparent hover:bg-secondary/90",destructive:"bg-destructive text-destructive-foreground border-transparent hover:bg-destructive/90",success:"bg-success text-success-foreground border-transparent hover:bg-success/90",warning:"bg-warning text-warning-foreground border-transparent hover:bg-warning/90",info:"bg-info text-info-foreground border-transparent hover:bg-info/90",ghost:"bg-transparent text-foreground border-transparent hover:bg-muted/40",outline:"bg-transparent text-foreground border-border hover:bg-muted/30",accent:"bg-accent border-border text-accent-foreground data-[active=true]:bg-accent/90"},size:{default:"h-9 px-3 py-2",sm:"h-8 px-2",lg:"h-10 px-4",icon:"h-9 w-9 p-0"}},defaultVariants:{variant:"default",size:"default"}}),aa=m.forwardRef(({className:t,variant:n,size:o,asChild:i=!1,...r},s)=>{const d=i?Sa:"button";return e.jsx(d,{className:J(ls({variant:n,size:o,className:t})),ref:s,...r})});aa.displayName="Button";const cs={bpo:["bpo","terceirizaÃ§Ã£o","outsourcing","serviÃ§os","processos"],tecnologia:["software","tech","tecnologia","sistemas","digital","ti"],consultoria:["consultoria","consulting","advisory","gestÃ£o"],rh:["rh","recursos humanos","people","talentos","recrutamento"],financeiro:["financeira","crÃ©dito","banco","fundo","investimento"],saude:["saÃºde","hospital","clÃ­nica","mÃ©dico","farmÃ¡cia"],educacao:["educaÃ§Ã£o","escola","universidade","curso","ensino"],varejo:["varejo","loja","comÃ©rcio","mercado","shopping"],industria:["indÃºstria","fÃ¡brica","manufatura","produÃ§Ã£o"],logistica:["logÃ­stica","transporte","distribuiÃ§Ã£o","armazÃ©m"]},Te={bpo:{descricao:"Empresa especializada em Business Process Outsourcing (BPO), oferecendo serviÃ§os de terceirizaÃ§Ã£o de processos de negÃ³cios, gestÃ£o administrativa, financeira e de recursos humanos",concorrentes:["Atento","Stefanini","TCS Brasil","Accenture","Teleperformance","Contax","Almaviva"],tendencias:["inteligÃªncia artificial processos empresariais","automaÃ§Ã£o RPA robÃ³tica","trabalho remoto hÃ­brido gestÃ£o","ESG sustentabilidade empresas","transformaÃ§Ã£o digital empresas","experiÃªncia do cliente CX"],palavrasChaveNoticias:["bpo","terceirizaÃ§Ã£o","outsourcing","processos de negÃ³cio","gestÃ£o empresarial"]},tecnologia:{descricao:"Empresa de tecnologia focada em desenvolvimento de software, soluÃ§Ãµes digitais e transformaÃ§Ã£o tecnolÃ³gica",concorrentes:["Microsoft","Oracle","SAP","Salesforce","Totvs","Senior"],tendencias:["inteligÃªncia artificial generativa","cloud computing nuvem","ciberseguranÃ§a proteÃ§Ã£o dados","blockchain web3","DevOps CI/CD","microserviÃ§os arquitetura"],palavrasChaveNoticias:["tecnologia","software","inovaÃ§Ã£o digital","transformaÃ§Ã£o digital","TI"]},consultoria:{descricao:"Consultoria empresarial especializada em estratÃ©gia, gestÃ£o e otimizaÃ§Ã£o de processos organizacionais",concorrentes:["McKinsey","BCG","Bain","Deloitte","PwC","EY","KPMG"],tendencias:["consultoria estratÃ©gica digital","transformaÃ§Ã£o organizacional","gestÃ£o de mudanÃ§as","excelÃªncia operacional","analytics big data","governanÃ§a corporativa"],palavrasChaveNoticias:["consultoria","estratÃ©gia empresarial","gestÃ£o organizacional","advisory"]},rh:{descricao:"Especialista em gestÃ£o de recursos humanos, recrutamento, seleÃ§Ã£o e desenvolvimento de talentos",concorrentes:["Randstad","Adecco","ManpowerGroup","Robert Half","Page Personnel"],tendencias:["people analytics dados RH","employee experience experiÃªncia colaborador","diversidade inclusÃ£o empresas","wellbeing saÃºde mental trabalho","upskilling reskilling talentos","employer branding marca empregadora"],palavrasChaveNoticias:["recursos humanos","gestÃ£o de talentos","recrutamento","people management"]},financeiro:{descricao:"InstituiÃ§Ã£o financeira focada em serviÃ§os bancÃ¡rios, crÃ©dito, investimentos e gestÃ£o financeira",concorrentes:["ItaÃº","Bradesco","Santander","Banco do Brasil","Nubank","BTG Pactual"],tendencias:["open banking open finance","fintechs pagamentos digitais","blockchain DeFi finanÃ§as","regulaÃ§Ã£o financeira BACEN","crÃ©dito digital anÃ¡lise risco","ESG investimentos sustentÃ¡veis"],palavrasChaveNoticias:["mercado financeiro","bancos","crÃ©dito","investimentos","finanÃ§as"]}};function ds(t,n){const o=`${t} ${n}`.toLowerCase();for(const[i,r]of Object.entries(cs))for(const s of r)if(o.includes(s))return i;return"bpo"}async function ke(t,n,o){const i=ds(n,o),r=Te[i]||Te.bpo;return{cnpj:t,nomeEmpresa:n,grupoEmpresarial:o,segmentosPrincipais:[i],palavrasChave:r.palavrasChaveNoticias,descricaoNegocio:r.descricao,concorrentes:r.concorrentes,tendenciasRelevantes:r.tendencias}}function ms(t){return`${t.grupoEmpresarial} - ${t.descricaoNegocio}. A empresa atua principalmente no segmento de ${t.segmentosPrincipais.join(", ")}.`}const we={bpo:{mercado:[{titulo:"Mercado de BPO cresce 18% no Brasil e deve movimentar R$ 156 bilhÃµes em 2025",resumo:"Setor de terceirizaÃ§Ã£o de processos apresenta forte expansÃ£o com empresas investindo em automaÃ§Ã£o e IA. Demanda por serviÃ§os especializados cresce principalmente em Ã¡reas financeiras, RH e atendimento ao cliente.",sentimento:"positivo",fonte:"Valor EconÃ´mico",relevancia:98,categorias:["crescimento","mercado","transformaÃ§Ã£o digital"]},{titulo:"Empresas de BPO investem R$ 8 bilhÃµes em tecnologia e capacitaÃ§Ã£o",resumo:"Principais players do mercado brasileiro anunciam investimentos massivos em inteligÃªncia artificial, RPA e qualificaÃ§Ã£o profissional. Movimento busca aumentar eficiÃªncia e competitividade no setor.",sentimento:"positivo",fonte:"InfoMoney",relevancia:95,categorias:["investimento","tecnologia","capacitaÃ§Ã£o"]},{titulo:"Reforma trabalhista exige adequaÃ§Ãµes em contratos de terceirizaÃ§Ã£o",resumo:"Novas diretrizes do MinistÃ©rio do Trabalho impÃµem mudanÃ§as na estrutura de contrataÃ§Ã£o de serviÃ§os terceirizados. Empresas tÃªm atÃ© marÃ§o de 2025 para adequaÃ§Ã£o completa.",sentimento:"negativo",fonte:"EstadÃ£o",relevancia:88,categorias:["regulaÃ§Ã£o","compliance","legislaÃ§Ã£o"]},{titulo:"Demanda por serviÃ§os de gestÃ£o de RH terceirizados cresce 24%",resumo:"Empresas buscam especializaÃ§Ã£o externa para processos de recrutamento, folha e desenvolvimento. TendÃªncia reflete foco em core business e reduÃ§Ã£o de custos operacionais.",sentimento:"positivo",fonte:"Exame",relevancia:92,categorias:["rh","gestÃ£o de pessoas","terceirizaÃ§Ã£o"]}],concorrentes:[{titulo:"Atento investe R$ 300 milhÃµes em expansÃ£o e tecnologia",resumo:"LÃ­der em contact center anuncia plano de expansÃ£o com abertura de 12 novas unidades e contrataÃ§Ã£o de 8 mil profissionais. Investimento inclui plataforma prÃ³pria de IA conversacional.",sentimento:"neutro",fonte:"Folha de S.Paulo",relevancia:87},{titulo:"Stefanini adquire empresa de consultoria em transformaÃ§Ã£o digital",resumo:"Grupo amplia portfÃ³lio com aquisiÃ§Ã£o estratÃ©gica de consultoria especializada em cloud e analytics. Movimento fortalece posiÃ§Ã£o em projetos de grande porte.",sentimento:"positivo",fonte:"TI Inside",relevancia:85},{titulo:"TCS Brasil reporta crescimento de 28% em receita no ano fiscal",resumo:"Tata Consultancy Services apresenta resultados acima das expectativas impulsionados por contratos de modernizaÃ§Ã£o de sistemas e migraÃ§Ã£o para nuvem.",sentimento:"positivo",fonte:"Bloomberg Brasil",relevancia:83}],tendencias:[{titulo:"IA Generativa deve automatizar 40% das tarefas em BPO atÃ© 2026",resumo:"Estudo da Gartner revela que tecnologias de IA generativa transformarÃ£o radicalmente operaÃ§Ãµes de contact center e backoffice. Empresas que nÃ£o adotarem correm risco de perder competitividade.",sentimento:"positivo",fonte:"Gartner Research",relevancia:96,categorias:["inteligÃªncia artificial","automaÃ§Ã£o","futuro"]},{titulo:"Trabalho hÃ­brido se consolida como modelo permanente em serviÃ§os",resumo:"Pesquisa da FGV indica que 73% das empresas de serviÃ§os adotaram modelo hÃ­brido definitivamente. MudanÃ§a exige novos investimentos em infraestrutura digital e gestÃ£o remota.",sentimento:"neutro",fonte:"FGV-EAESP",relevancia:89,categorias:["trabalho remoto","gestÃ£o","futuro do trabalho"]},{titulo:"ESG torna-se critÃ©rio obrigatÃ³rio em licitaÃ§Ãµes de grande porte",resumo:"Empresas de BPO precisam comprovar prÃ¡ticas sustentÃ¡veis e sociais para participar de concorrÃªncias pÃºblicas e privadas. CertificaÃ§Ãµes ambientais ganham peso em decisÃµes.",sentimento:"positivo",fonte:"Ã‰poca NegÃ³cios",relevancia:91,categorias:["esg","sustentabilidade","governanÃ§a"]},{titulo:"Escassez de talentos qualificados desafia setor de serviÃ§os",resumo:"Pesquisa da Bain aponta falta de 150 mil profissionais qualificados no setor. Empresas investem em programas de requalificaÃ§Ã£o e parcerias com universidades.",sentimento:"negativo",fonte:"Bain & Company",relevancia:87,categorias:["talentos","capacitaÃ§Ã£o","mercado de trabalho"]}]}},xe=["Valor EconÃ´mico","Folha de S.Paulo","O Estado de S.Paulo","Exame","InfoMoney","Ã‰poca NegÃ³cios","Bloomberg Brasil","Reuters Brasil","ConvergÃªncia Digital","TI Inside","CIO Brasil","IT Forum"],pe=["Gartner Research","McKinsey & Company","Bain & Company","BCG Brasil","Deloitte Insights","PwC Brasil","FGV-EAESP","FundaÃ§Ã£o Dom Cabral","IDC Brasil","Forrester Research"];function xs(t,n=48){const o=we.bpo.mercado,i=[];o.forEach((c,j)=>{const h=11-j;i.push({id:`real-${j}`,titulo:c.titulo,resumo:c.resumo,sentimento:c.sentimento,fonte:c.fonte,data:`2025-${String(h).padStart(2,"0")}-${15+j}`,url:"#",relevancia:c.relevancia,categorias:c.categorias||[]})});const r=hs(),s=12-o.length,d=Math.floor((n-o.length)/s);for(let c=1;c<=12;c++)if(!(c>=8))for(let j=0;j<d;j++){const h=r[Math.floor(Math.random()*r.length)],p=Math.random()>.5?xe[Math.floor(Math.random()*xe.length)]:pe[Math.floor(Math.random()*pe.length)];i.push({id:`gen-mercado-${c}-${j}`,titulo:h.titulo.replace("{segmento}",t.segmentosPrincipais[0].toUpperCase()),resumo:h.resumo.replace("{grupo}",t.grupoEmpresarial),sentimento:h.sentimento,fonte:p,data:`2025-${String(c).padStart(2,"0")}-${5+j*8}`,url:"#",relevancia:75+Math.floor(Math.random()*20),categorias:h.categorias})}return i.sort((c,j)=>new Date(j.data).getTime()-new Date(c.data).getTime())}function ps(t,n=36){const o=we.bpo.concorrentes,i=[];o.forEach((s,d)=>{const c=t.concorrentes[d%t.concorrentes.length];i.push({id:`real-conc-${d}`,titulo:s.titulo,resumo:s.resumo,sentimento:s.sentimento,fonte:s.fonte,data:`2025-${String(10-d).padStart(2,"0")}-${20+d}`,url:"#",relevancia:s.relevancia,categorias:["concorrente",c]})});const r=gs();return t.concorrentes.forEach((s,d)=>{for(let c=1;c<=12&&!(i.length>=n);c++){const j=r[c%r.length],h=xe[Math.floor(Math.random()*xe.length)];i.push({id:`gen-conc-${s}-${c}`,titulo:j.titulo.replace("{concorrente}",s),resumo:j.resumo.replace("{concorrente}",s),sentimento:j.sentimento,fonte:h,data:`2025-${String(c).padStart(2,"0")}-${d*3+5}`,url:"#",relevancia:70+Math.floor(Math.random()*20),categorias:["concorrente",s]})}}),i.sort((s,d)=>new Date(d.data).getTime()-new Date(s.data).getTime()).slice(0,n)}function us(t,n=48){const o=we.bpo.tendencias,i=[];o.forEach((s,d)=>{i.push({id:`real-tend-${d}`,titulo:s.titulo,resumo:s.resumo,sentimento:s.sentimento,fonte:s.fonte,data:`2025-${String(11-d).padStart(2,"0")}-${10+d*5}`,url:"#",relevancia:s.relevancia,categorias:s.categorias||[]})});const r=fs();for(let s=1;s<=12&&!(i.length>=n);s++){const d=Math.floor((n-o.length)/12);for(let c=0;c<d;c++){const j=r[(s+c)%r.length],h=pe[Math.floor(Math.random()*pe.length)];i.push({id:`gen-tend-${s}-${c}`,titulo:j.titulo,resumo:j.resumo,sentimento:j.sentimento,fonte:h,data:`2025-${String(s).padStart(2,"0")}-${3+c*7}`,url:"#",relevancia:80+Math.floor(Math.random()*18),categorias:j.categorias})}}return i.sort((s,d)=>new Date(d.data).getTime()-new Date(s.data).getTime())}function hs(t){return[{titulo:"Investimentos em {segmento} superam R$ 5 bilhÃµes no primeiro trimestre",resumo:"Setor registra aportes recordes com foco em tecnologia e expansÃ£o regional. Empresas como {grupo} lideram movimento de modernizaÃ§Ã£o e ampliaÃ§Ã£o de capacidade.",sentimento:"positivo",categorias:["investimento","crescimento"]},{titulo:"Novas regulamentaÃ§Ãµes impactam setor de serviÃ§os terceirizados",resumo:"MudanÃ§as na legislaÃ§Ã£o trabalhista e tributÃ¡ria exigem adaptaÃ§Ãµes operacionais. Especialistas recomendam revisÃ£o de contratos e processos de compliance.",sentimento:"negativo",categorias:["regulaÃ§Ã£o","compliance"]},{titulo:"FusÃµes e aquisiÃ§Ãµes movimentam mercado de {segmento}",resumo:"ConsolidaÃ§Ã£o do setor acelera com empresas buscando ganhos de escala e sinergias operacionais. TransaÃ§Ãµes somam R$ 2,3 bilhÃµes no perÃ­odo.",sentimento:"neutro",categorias:["m&a","consolidaÃ§Ã£o"]},{titulo:"Empresas de {segmento} apostam em inovaÃ§Ã£o para diferenciaÃ§Ã£o",resumo:"Desenvolvimento de soluÃ§Ãµes proprietÃ¡rias e parcerias tecnolÃ³gicas ganham forÃ§a. Investimento em P&D cresce 35% em relaÃ§Ã£o ao ano anterior.",sentimento:"positivo",categorias:["inovaÃ§Ã£o","tecnologia"]}]}function gs(){return[{titulo:"{concorrente} anuncia expansÃ£o para Nordeste e Centro-Oeste",resumo:"{concorrente} investe em novas unidades regionais visando ampliar presenÃ§a nacional. Plano prevÃª criaÃ§Ã£o de 2 mil empregos nos prÃ³ximos 18 meses.",sentimento:"neutro"},{titulo:"{concorrente} lanÃ§a plataforma digital prÃ³pria de gestÃ£o",resumo:"{concorrente} desenvolve soluÃ§Ã£o tecnolÃ³gica interna para otimizar operaÃ§Ãµes. Ferramenta integra IA e analytics para ganhos de produtividade.",sentimento:"positivo"},{titulo:"{concorrente} renova certificaÃ§Ãµes internacionais de qualidade",resumo:"{concorrente} mantÃ©m padrÃµes ISO e conquista novas certificaÃ§Ãµes ESG. Reconhecimento reforÃ§a posicionamento em mercados premium.",sentimento:"positivo"},{titulo:"{concorrente} enfrenta desafios com turnover elevado",resumo:"{concorrente} registra taxa de rotatividade acima da mÃ©dia do setor. Empresa anuncia programa de retenÃ§Ã£o e benefÃ­cios ampliados.",sentimento:"negativo"}]}function fs(t){return[{titulo:"CiberseguranÃ§a torna-se prioridade estratÃ©gica em serviÃ§os",resumo:"Ataques ransomware crescem 120% e empresas elevam investimentos em proteÃ§Ã£o de dados. Compliance com LGPD exige infraestrutura robusta de seguranÃ§a.",sentimento:"negativo",categorias:["seguranÃ§a","tecnologia","lgpd"]},{titulo:"AnÃ¡lise preditiva revoluciona tomada de decisÃ£o empresarial",resumo:"Ferramentas de big data e machine learning permitem antecipaÃ§Ã£o de tendÃªncias e otimizaÃ§Ã£o de recursos. ROI mÃ©dio de implementaÃ§Ã£o atinge 300%.",sentimento:"positivo",categorias:["analytics","big data","inovaÃ§Ã£o"]},{titulo:"Customer experience define competitividade no setor",resumo:"Pesquisa aponta que 78% dos clientes valorizam mais a experiÃªncia que o preÃ§o. Empresas investem em omnichannel e personalizaÃ§Ã£o.",sentimento:"positivo",categorias:["cx","atendimento","estratÃ©gia"]},{titulo:"Economia circular ganha espaÃ§o em modelos de negÃ³cio",resumo:"PrÃ¡ticas sustentÃ¡veis deixam de ser diferenciais e tornam-se requisitos bÃ¡sicos. Empresas que nÃ£o se adaptarem perdem competitividade.",sentimento:"neutro",categorias:["sustentabilidade","esg","economia circular"]},{titulo:"Blockchain promete transformar contratos e auditoria",resumo:"Tecnologia de registro distribuÃ­do garante transparÃªncia e rastreabilidade em transaÃ§Ãµes. Pilotos mostram reduÃ§Ã£o de 60% no tempo de auditorias.",sentimento:"positivo",categorias:["blockchain","inovaÃ§Ã£o","tecnologia"]},{titulo:"SaÃºde mental no trabalho exige novas polÃ­ticas corporativas",resumo:"Burnout e ansiedade afetam 40% dos profissionais segundo pesquisa. Empresas implementam programas de wellbeing e acompanhamento psicolÃ³gico.",sentimento:"neutro",categorias:["saÃºde mental","rh","wellbeing"]}]}function bs({cnpj:t="26888098000159",nomeEmpresa:n="Volpe BPO",grupoEmpresarial:o="Grupo Volpe"}){const[i,r]=m.useState(!1),[s,d]=m.useState(""),[c,j]=m.useState(null),[h,p]=m.useState([]),[N,g]=m.useState([]),[y,S]=m.useState([]);m.useEffect(()=>{w(),R()},[t,n,o]);const w=async()=>{const l=await ke(t,n,o);j(l),d(ms(l))},R=async()=>{r(!0);try{let l=c;l||(l=await ke(t,n,o),j(l));const C=xs(l,48),M=ps(l,36),A=us(l,48);console.log(`ðŸ“° NotÃ­cias geradas para ${l.grupoEmpresarial}:`,{mercado:C.length,concorrentes:M.length,tendencias:A.length}),setTimeout(()=>{p(C),g(M),S(A),r(!1)},800)}catch(l){console.error("Erro ao carregar notÃ­cias:",l),r(!1)}},u=l=>{const M={positivo:{bg:"bg-green-500/20",text:"text-green-400",icon:W,label:"Positivo"},neutro:{bg:"bg-blue-500/20",text:"text-blue-400",icon:Ia,label:"Neutro"},negativo:{bg:"bg-red-500/20",text:"text-red-400",icon:Ge,label:"Negativo"}}[l],A=M.icon;return e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${M.bg} ${M.text} text-xs font-semibold`,children:[e.jsx(A,{className:"w-3 h-3"}),M.label]})},E=({noticia:l})=>e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neomorphic rounded-2xl p-5 border border-graphite-800/30 hover:border-gold-500/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-base mb-2 line-clamp-2",children:l.titulo}),e.jsx("p",{className:"text-graphite-400 text-sm leading-relaxed line-clamp-3",children:l.resumo})]}),e.jsx("div",{className:"ml-4",children:u(l.sentimento)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-graphite-800",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-graphite-500",children:[e.jsx("span",{className:"font-medium",children:l.fonte}),e.jsx("span",{children:new Date(l.data).toLocaleDateString("pt-BR")}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gold-500"}),l.relevancia,"% relevante"]})]}),e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-gold-500 hover:text-gold-400 transition-colors",children:e.jsx(Ra,{className:"w-4 h-4"})})]})]});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"NotÃ­cias & InteligÃªncia de Mercado"}),e.jsxs("p",{className:"text-graphite-400",children:["Acompanhe tendÃªncias, concorrentes e oportunidades do setor â€¢ ",n]})]}),e.jsxs(aa,{onClick:R,disabled:i,className:"flex items-center gap-2",children:[e.jsx(se,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Atualizar"]})]}),e.jsxs(L,{className:"mb-6 bg-gradient-to-br from-gold-500/10 to-gold-600/5 border-gold-500/20",children:[e.jsx(B,{children:e.jsxs(V,{className:"text-gold-400 flex items-center gap-2",children:[e.jsx(Ea,{className:"w-5 h-5"}),"Sobre a Empresa Analisada"]})}),e.jsxs(_,{className:"space-y-3",children:[e.jsx("p",{className:"text-graphite-300 text-sm leading-relaxed",children:s||"Carregando informaÃ§Ãµes da empresa..."}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-3 border-t border-gold-500/20",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Da,{className:"w-4 h-4 text-gold-400"}),e.jsx("span",{className:"text-xs font-semibold text-gold-400",children:"Segmento"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.segmentosPrincipais.map(l=>e.jsx("span",{className:"px-2 py-1 rounded-md bg-gold-500/10 text-gold-400 text-xs",children:l.toUpperCase()},l))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_e,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs font-semibold text-blue-400",children:"Concorrentes Principais"})]}),e.jsxs("p",{className:"text-graphite-400 text-xs",children:[c.concorrentes.slice(0,3).join(", "),"..."]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-xs font-semibold text-green-400",children:"Palavras-Chave"})]}),e.jsx("p",{className:"text-graphite-400 text-xs",children:c.palavrasChave.slice(0,3).join(", ")})]})]})]})]}),e.jsxs(ye,{defaultValue:"mercado",className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs($,{value:"mercado",children:["Mercado & Setor",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-gold-500/20 text-gold-400 text-xs",children:h.length})]}),e.jsxs($,{value:"concorrentes",children:["Concorrentes",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 text-xs",children:N.length})]}),e.jsxs($,{value:"tendencias",children:["TendÃªncias",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-400 text-xs",children:y.length})]})]}),e.jsx(F,{value:"mercado",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"w-8 h-8 animate-spin text-gold-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando notÃ­cias do mercado..."})]}):h.map(l=>e.jsx(E,{noticia:l},l.id))}),e.jsx(F,{value:"concorrentes",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando notÃ­cias de concorrentes..."})]}):N.map(l=>e.jsx(E,{noticia:l},l.id))}),e.jsx(F,{value:"tendencias",className:"space-y-4",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"w-8 h-8 animate-spin text-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-graphite-400",children:"Carregando tendÃªncias do setor..."})]}):y.map(l=>e.jsx(E,{noticia:l},l.id))})]})]})}const sa={duration:.2,ease:[.22,1,.36,1]},js={duration:.35,ease:[.22,1,.36,1]},vs={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:js}},G={whileHover:{scale:1.02},transition:sa},be={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:sa}},ze="oracle_context_rules";function Ns({open:t,onClose:n,onUpdateOracleContext:o}){const[i,r]=m.useState("settings"),[s,d]=m.useState(""),[c,j]=m.useState("all"),[h,p]=m.useState("all"),[N,g]=m.useState("24h"),[y,S]=m.useState([]);if(m.useEffect(()=>{if(t){const l=localStorage.getItem(ze)||"";d(l)}},[t]),m.useEffect(()=>{if(!t||i!=="logs")return;const l={select:"*",order:"ts.desc",limit:"200"};O.restGet("app_logs",{query:l}).then(S).catch(()=>S([]))},[t,i,c,h,N]),!t)return null;const w=()=>{localStorage.setItem(ze,s),o&&o(s),n()},R=y.filter(l=>(c==="all"||l.level===c)&&(h==="all"||l.service===h)),u=R.map(l=>({ts:l.ts,info:l.level==="info"?1:0,warn:l.level==="warn"?1:0,error:l.level==="error"?1:0})),E=Object.values(R.reduce((l,C)=>(C.endpoint&&(l[C.endpoint]=(l[C.endpoint]||0)+1),l),{})).length?Object.entries(R.reduce((l,C)=>(C.endpoint&&(l[C.endpoint]=(l[C.endpoint]||0)+1),l),{})).slice(0,8).map(([l,C])=>({endpoint:l,count:C})):[];return R.filter(l=>l.latencyMs).map(l=>({endpoint:l.endpoint||"N/A",latency:l.latencyMs})),e.jsx(b.div,{className:"fixed inset-0 z-[75] bg-black/60 backdrop-blur-sm",children:e.jsxs(b.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"mx-auto mt-12 max-w-[1200px] bg-card border border-border rounded-3xl shadow-soft-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:"text-sm font-semibold",children:"ConfiguraÃ§Ãµes do Sistema"})]}),e.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:e.jsx(Be,{className:"w-5 h-5"})})]}),e.jsxs(ye,{value:i,onValueChange:r,className:"w-full",children:[e.jsxs(ue,{className:"w-full grid grid-cols-3 p-1 mx-5 mt-5",children:[e.jsxs($,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4"}),"ConfiguraÃ§Ãµes"]}),e.jsxs($,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"w-4 h-4"}),"Logs"]}),e.jsxs($,{value:"about",className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"w-4 h-4"}),"Sobre"]})]}),e.jsx(F,{value:"settings",className:"p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Regras de Contexto do OrÃ¡culo"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Configure regras de contexto (empresa/grupo, fontes, tom e escopo) para personalizar respostas do OrÃ¡culo."}),e.jsx("textarea",{value:s,onChange:l=>d(l.target.value),rows:10,placeholder:"Ex: Focar em anÃ¡lise do Grupo Volpe, usar tom profissional, priorizar dados de 2024-2025...",className:"w-full bg-graphite-900 border border-graphite-800 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20 font-mono"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 rounded-xl bg-secondary text-secondary-foreground hover:bg-secondary/80",children:"Cancelar"}),e.jsx("button",{onClick:w,className:"px-4 py-2 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",children:"Salvar"})]})]})}),e.jsx(F,{value:"logs",className:"p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("select",{value:N,onChange:l=>g(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"24h",children:"24h"}),e.jsx("option",{value:"7d",children:"7 dias"}),e.jsx("option",{value:"30d",children:"30 dias"})]}),e.jsxs("select",{value:c,onChange:l=>j(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Todos os nÃ­veis"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warn",children:"Warn"}),e.jsx("option",{value:"error",children:"Error"})]}),e.jsxs("select",{value:h,onChange:l=>p(l.target.value),className:"bg-graphite-900 border border-graphite-800 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Todos os serviÃ§os"}),e.jsx("option",{value:"UI",children:"UI"}),e.jsx("option",{value:"API",children:"API"}),e.jsx("option",{value:"Edge",children:"Edge"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-premium",children:[e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"NÃ­veis ao longo do tempo"})}),e.jsx("div",{className:"p-4 pt-0 h-[250px]",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ve,{data:u,children:[e.jsx(Z,{stroke:"rgba(200,200,200,0.15)",vertical:!1}),e.jsx(Q,{dataKey:"ts",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12},hide:!0}),e.jsx(ee,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(U,{}),e.jsx(ce,{}),e.jsx(q,{type:"monotone",dataKey:"info",stackId:"1",stroke:"#38bdf8",fill:"#38bdf8"}),e.jsx(q,{type:"monotone",dataKey:"warn",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b"}),e.jsx(q,{type:"monotone",dataKey:"error",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})})]}),e.jsxs("div",{className:"card-premium",children:[e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Top endpoints"})}),e.jsx("div",{className:"p-4 pt-0 h-[250px]",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(Ne,{data:E,children:[e.jsx(Z,{stroke:"rgba(200,200,200,0.15)"}),e.jsx(Q,{dataKey:"endpoint",stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(ee,{stroke:"#bbb",tick:{fill:"#bbb",fontSize:12}}),e.jsx(U,{}),e.jsx(de,{dataKey:"count",fill:"#ff7a00"})]})})})]})]}),e.jsx("div",{className:"rounded-2xl border border-border overflow-hidden max-h-[300px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-graphite-900 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Timestamp"}),e.jsx("th",{className:"text-left p-3",children:"NÃ­vel"}),e.jsx("th",{className:"text-left p-3",children:"ServiÃ§o"}),e.jsx("th",{className:"text-left p-3",children:"Endpoint"}),e.jsx("th",{className:"text-left p-3",children:"Mensagem"})]})}),e.jsxs("tbody",{children:[R.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center p-8 text-muted-foreground",children:"Nenhum log encontrado para os filtros selecionados."})}),R.slice(0,50).map((l,C)=>e.jsxs("tr",{className:"border-t border-border hover:bg-graphite-900/50",children:[e.jsx("td",{className:"p-3 text-xs",children:new Date(l.ts).toLocaleString("pt-BR")}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${l.level==="error"?"bg-red-500/20 text-red-400":l.level==="warn"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:l.level})}),e.jsx("td",{className:"p-3 text-xs",children:l.service}),e.jsx("td",{className:"p-3 text-xs font-mono",children:l.endpoint||"-"}),e.jsx("td",{className:"p-3 text-xs",children:l.message})]},C))]})]})})]})}),e.jsx(F,{value:"about",className:"p-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-gold-500 to-orange-500 flex items-center justify-center",children:e.jsx(oe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold",children:"fin.app"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Financial Intelligence Dashboard"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"VersÃ£o"}),e.jsx("p",{className:"text-lg font-bold",children:"v0.2.0"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ambiente"}),e.jsx("p",{className:"text-lg font-bold",children:"ProduÃ§Ã£o"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Empresa"}),e.jsx("p",{className:"text-lg font-bold",children:"Grupo Volpe"})]}),e.jsxs("div",{className:"card-premium p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ãšltima AtualizaÃ§Ã£o"}),e.jsx("p",{className:"text-lg font-bold",children:"17/11/2025"})]})]}),e.jsxs("div",{className:"card-premium p-5",children:[e.jsx("h5",{className:"text-sm font-semibold mb-3",children:"Funcionalidades"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Dashboard financeiro com DRE e DFC"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"AnÃ¡lise de fluxo de caixa e lanÃ§amentos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Sistema de notÃ­cias inteligente com IA"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"OrÃ¡culo para consultas financeiras"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-500"}),"Gerenciamento de logs e monitoramento"]})]})]}),e.jsx("div",{className:"text-center text-xs text-muted-foreground",children:"Â© 2025 fin.app. Todos os direitos reservados."})]})})]})]})})}function ys({open:t,onClose:n,onLogged:o}){const[i,r]=m.useState("dev@angrax.com.br"),[s,d]=m.useState("B5b0dcf500@#"),[c,j]=m.useState(""),[h,p]=m.useState(!1),N=async()=>{j(""),p(!0);try{const g=await Qe(i,s);if(!g){j("Credenciais invÃ¡lidas"),p(!1);return}const y={...g,defaultCompany:"26888098000159",companies:[{cliente_nome:"LOJA 01 - VOLPE MATRIZ",cnpj:"26888098000159"}]};o(y),n()}catch(g){j(g.message||"Erro ao fazer login"),p(!1)}};return t?e.jsx(b.div,{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-xl flex items-center justify-center",children:e.jsx(b.div,{variants:vs,initial:"hidden",animate:"show",className:"neomorphic neomorphic-hover w-[380px] rounded-xl border border-graphite-800/30 shadow-soft-lg",children:e.jsxs("div",{className:"p-7 space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("img",{src:"/finapp-logo.png",alt:"fin.app",className:"w-40 h-auto"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Login - Grupo VOLPE"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso exclusivo para o grupo VOLPE"})]}),e.jsx(b.input,{whileHover:G.whileHover,value:i,onChange:g=>r(g.target.value),placeholder:"E-mail",className:"w-full bg-graphite-900 border border-graphite-800 rounded-sm px-2 py-1 text-xs",disabled:h}),e.jsx(b.input,{whileHover:G.whileHover,type:"password",value:s,onChange:g=>d(g.target.value),placeholder:"Senha",className:"w-full bg-graphite-900 border border-graphite-800 rounded-sm px-2 py-1 text-xs",disabled:h}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e.jsx("p",{children:"Empresa padrÃ£o: LOJA 01 - VOLPE MATRIZ (0159)"})}),c&&e.jsx("p",{className:"text-xs text-destructive text-center",children:c}),e.jsx("div",{className:"flex gap-2 justify-end pt-2",children:e.jsx(b.button,{whileHover:G.whileHover,whileTap:{scale:.98},onClick:N,disabled:h,className:"w-full px-3 py-2 rounded-sm bg-emerald-400 text-white hover:bg-emerald-500 disabled:opacity-50",children:h?"Entrando...":"Entrar"})}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[e.jsx("p",{children:"UsuÃ¡rio: dev@angrax.com.br"}),e.jsx("p",{children:"Empresa: 26888098000159 (Matriz)"})]})]})})}):null}function ws(t="26888098000159",n){const[o,i]=m.useState({receitaTotal:0,despesasTotal:0,limiteDiario:45e3,metaPoupanca:15e4,receitaChange:0,despesasChange:0,limiteDiarioProgress:0,metaPoupancaProgress:0}),[r,s]=m.useState(!0);m.useEffect(()=>{d()},[t,n]);const d=async()=>{try{const c=await O.getDRE(t);if(!c||c.length===0){s(!1);return}const[j,h]=n?n.split("-").map(Number):[new Date().getFullYear(),new Date().getMonth()+1],p=j,N=h-1;let g=0,y=0,S=0,w=0;c.forEach(k=>{const z=new Date(k.data),H=z.getFullYear(),I=z.getMonth();H===p&&I===N?k.natureza==="receita"?g+=k.valor:k.natureza==="despesa"&&(y+=Math.abs(k.valor)):(H===p&&I===N-1||N===0&&H===p-1&&I===11)&&(k.natureza==="receita"?S+=k.valor:k.natureza==="despesa"&&(w+=Math.abs(k.valor)))});const R=S>0?(g-S)/S*100:0,u=w>0?(y-w)/w*100:0,l=45e3*22,C=Math.min(Math.round(g/l*100),100),M=g-y,A=Math.min(Math.round(M/15e4*100),100);i({receitaTotal:g,despesasTotal:y,limiteDiario:45e3,metaPoupanca:15e4,receitaChange:R,despesasChange:u,limiteDiarioProgress:C,metaPoupancaProgress:A}),s(!1)}catch(c){console.error("Erro ao carregar dados financeiros:",c),s(!1)}};return{metrics:o,loading:r}}function Cs(){const[t,n]=m.useState(!0),[o,i]=m.useState(!1),[r,s]=m.useState(""),[d]=m.useState("admin"),[c,j]=m.useState("Dashboard"),[h,p]=m.useState("Ano"),[N,g]=m.useState(()=>Ga()),[y,S]=m.useState(""),[w,R]=m.useState(""),[u,E]=m.useState(""),l=window.location.hostname.includes("dev.angrax.com.br")||window.location.hostname.includes("localhost"),[C,M]=m.useState("2025-11"),[A,k]=m.useState("26888098000159"),[z,H]=m.useState([]),{metrics:I,loading:P}=ws(A,C);m.useEffect(()=>{he();const a=localStorage.getItem("oracle_context_rules");if(a)s(a);else{const x=`# CONTEXTO DO ORÃCULO - ESPECIALISTA EM BPO E ANÃLISE DE FLUXO DE CAIXA

## EMPRESA/GRUPO
- Grupo Volpe BPO (CNPJ: 26.888.098/0001-59)
- AtuaÃ§Ã£o: Business Process Outsourcing (BPO), terceirizaÃ§Ã£o de processos financeiros, administrativos e de RH
- Segmento: ServiÃ§os empresariais B2B
- Principais clientes: Empresas de mÃ©dio e grande porte nos setores industrial, comercial e de serviÃ§os

## EXPERTISE EM FLUXO DE CAIXA
Como especialista em BPO financeiro, o OrÃ¡culo deve fornecer anÃ¡lises profundas sobre:

### 1. GESTÃƒO DE RECEBÃVEIS E PAGÃVEIS
- AnÃ¡lise de prazos mÃ©dios de recebimento (PMR) e pagamento (PMP)
- IdentificaÃ§Ã£o de gargalos de cobranÃ§a e inadimplÃªncia
- OtimizaÃ§Ã£o do ciclo de caixa operacional (CCC = PME + PMR - PMP)
- EstratÃ©gias de antecipaÃ§Ã£o de recebÃ­veis e negociaÃ§Ã£o com fornecedores
- AnÃ¡lise de aging de contas a receber e a pagar

### 2. PREVISIBILIDADE E PROJEÃ‡Ã•ES
- ProjeÃ§Ã£o de fluxo de caixa para 30, 60 e 90 dias
- AnÃ¡lise de sazonalidade e padrÃµes histÃ³ricos de receitas e despesas
- IdentificaÃ§Ã£o de tendÃªncias de entrada e saÃ­da de caixa
- SimulaÃ§Ã£o de cenÃ¡rios (otimista, realista, pessimista)
- Alertas antecipados de necessidade de capital de giro

### 3. CAPITAL DE GIRO E LIQUIDEZ
- CÃ¡lculo e monitoramento do capital de giro lÃ­quido (CGL)
- AnÃ¡lise de Ã­ndices de liquidez (corrente, seca, imediata)
- IdentificaÃ§Ã£o de necessidade de capital de giro (NCG)
- EstratÃ©gias para otimizaÃ§Ã£o de caixa mÃ­nimo operacional
- AnÃ¡lise de conversÃ£o de caixa (cash conversion cycle)

### 4. CATEGORIZAÃ‡ÃƒO E ANÃLISE DE DESPESAS
- ClassificaÃ§Ã£o de despesas por natureza (fixas vs variÃ¡veis)
- AnÃ¡lise de despesas por centro de custo e departamento
- IdentificaÃ§Ã£o de despesas anormais ou outliers
- Benchmark de despesas operacionais vs receita bruta
- Oportunidades de reduÃ§Ã£o de custos e renegociaÃ§Ã£o

### 5. GESTÃƒO DE INADIMPLÃŠNCIA
- AnÃ¡lise de taxa de inadimplÃªncia por cliente e perÃ­odo
- ProvisÃ£o para devedores duvidosos (PDD)
- EstratÃ©gias de cobranÃ§a e recuperaÃ§Ã£o de crÃ©dito
- AnÃ¡lise de risco de crÃ©dito de clientes
- Impacto da inadimplÃªncia no fluxo de caixa projetado

### 6. INVESTIMENTOS E CAPEX
- AnÃ¡lise de investimentos em ativo fixo e tecnologia
- CÃ¡lculo de retorno sobre investimento (ROI) e payback
- Impacto de investimentos no fluxo de caixa de curto e longo prazo
- PriorizaÃ§Ã£o de projetos de investimento
- AnÃ¡lise de viabilidade financeira de expansÃµes

### 7. INDICADORES CHAVE DE PERFORMANCE (KPIs)
- GeraÃ§Ã£o de caixa operacional (Operating Cash Flow)
- Free Cash Flow (FCF = Fluxo Operacional - Capex)
- Burn rate (taxa de queima de caixa)
- Runway (tempo atÃ© esgotamento do caixa)
- Cash flow margin (margem de fluxo de caixa)
- EBITDA vs Cash Flow (anÃ¡lise de qualidade de lucro)

### 8. COMPLIANCE E AUDITORIA
- ReconciliaÃ§Ã£o bancÃ¡ria e controles internos
- Rastreabilidade de lanÃ§amentos e documentaÃ§Ã£o
- SegregaÃ§Ã£o de funÃ§Ãµes e alÃ§adas de aprovaÃ§Ã£o
- Auditoria de processos de pagamento e recebimento
- PrevenÃ§Ã£o a fraudes e controles antifraude

## FONTES DE DADOS PRIORITÃRIAS
1. DRE (DemonstraÃ§Ã£o de Resultado do ExercÃ­cio) - anÃ¡lise mensal e anual
2. DFC (DemonstraÃ§Ã£o de Fluxo de Caixa) - mÃ©todo direto e indireto
3. LanÃ§amentos contÃ¡beis e extratos bancÃ¡rios
4. Aging de contas a receber e a pagar
5. Ordens de pagamento e bordereaux de cobranÃ§a
6. ConciliaÃ§Ãµes bancÃ¡rias e movimentaÃ§Ãµes financeiras

## TOM E ESTILO
- Linguagem executiva, clara e objetiva
- Foco em insights acionÃ¡veis e recomendaÃ§Ãµes prÃ¡ticas
- Uso de mÃ©tricas e KPIs financeiros
- EvidÃªncias baseadas em dados reais do ERP/Contabilidade
- Alertas proativos para riscos e oportunidades
- ComparaÃ§Ãµes temporais (MoM, YoY) e benchmarks setoriais

## ESCOPO DE ANÃLISE
- PerÃ­odo: Dados de 2024 e 2025 (priorizar Ãºltimos 12 meses)
- ComparaÃ§Ãµes: MÃªs vs mÃªs anterior, ano vs ano anterior
- Foco: Grupo Volpe e suas unidades de negÃ³cio
- Granularidade: AnÃ¡lise consolidada e por centro de custo
- Alertas: VariaÃ§Ãµes superiores a 15% ou valores atÃ­picos

## RECOMENDAÃ‡Ã•ES ESTRATÃ‰GICAS
Sempre que relevante, fornecer:
- DiagnÃ³stico da situaÃ§Ã£o atual do fluxo de caixa
- IdentificaÃ§Ã£o de problemas e oportunidades
- RecomendaÃ§Ãµes de curto prazo (30 dias)
- EstratÃ©gias de mÃ©dio prazo (90 dias)
- Plano de aÃ§Ã£o com priorizaÃ§Ã£o e responsÃ¡veis sugeridos`;localStorage.setItem("oracle_context_rules",x),s(x)}},[]);const he=async()=>{try{const a=await O.getCompanies();H(a)}catch(a){console.error("Erro ao carregar empresas:",a)}};return m.useState(()=>{const a=x=>j(x.detail);return window.addEventListener("navigate",a),()=>window.removeEventListener("navigate",a)}),e.jsxs("div",{className:`min-h-screen ${t?"dark bg-gradient-to-br from-charcoal-950 via-graphite-950 to-charcoal-900":"bg-gradient-to-br from-gray-50 via-white to-gray-100"} transition-colors duration-500`,children:[e.jsx(Ka,{role:d,onOpenSettings:()=>i(!0),onOpenLogs:()=>i(!0)}),e.jsxs("div",{className:"ml-64 flex flex-col min-h-screen",children:[e.jsx(Xa,{isDark:t,onThemeToggle:()=>n(!t),oracleContext:r,currentPeriod:h,onPeriodChange:a=>p(a),selectedMonth:C,onMonthChange:M,selectedCompany:A,onCompanyChange:k,companies:z}),e.jsxs("main",{className:"flex-1 p-8",children:[c==="Dashboard"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[e.jsx(te,{title:"Receita Total",value:P?"R$ 0":`R$ ${Math.round(I.receitaTotal).toLocaleString("pt-BR")}`,change:P?0:I.receitaChange,trend:I.receitaChange>=0?"up":"down",icon:"TrendingUp",color:"green",sparklineData:[42,48,45,52,58,65,70,68,75,80,85,90]}),e.jsx(te,{title:"Despesas",value:P?"R$ 0":`R$ ${Math.round(I.despesasTotal).toLocaleString("pt-BR")}`,change:P?0:I.despesasChange,trend:I.despesasChange>=0?"up":"down",icon:"TrendingDown",color:"red",sparklineData:[30,35,40,38,42,45,48,50,52,54,56,58]}),e.jsx(te,{title:"Limite DiÃ¡rio",value:`R$ ${I.limiteDiario.toLocaleString("pt-BR")}`,change:P?0:I.limiteDiarioProgress,trend:"up",icon:"Wallet",color:"blue",sparklineData:[20,25,30,28,32,35,38,40,42,43,44,45],progress:P?0:I.limiteDiarioProgress}),e.jsx(te,{title:"Meta de PoupanÃ§a",value:`R$ ${I.metaPoupanca.toLocaleString("pt-BR")}`,change:P?0:I.metaPoupancaProgress,trend:"up",icon:"Target",color:"gold",sparklineData:[10,20,35,45,60,70,80,90,95,100,105,110],progress:P?0:I.metaPoupancaProgress})]}),e.jsx("section",{className:"mb-6",children:e.jsx(rs,{period:h,session:N},`overview-${N?"auth":"anon"}`)}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(Ae,{period:h,cnpj:A,selectedMonth:C})}),e.jsx("div",{children:e.jsx(es,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(ea,{})}),e.jsx("div",{children:e.jsx(ss,{cnpj:A,selectedMonth:C})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsx(b.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:be,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/20",children:e.jsx(Fe,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Clientes Ativos"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"1.248"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+8% este mÃªs"})]})]})}),e.jsx(b.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:be,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/20",children:e.jsx(je,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Documentos Processados"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"8.542"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+15% este mÃªs"})]})]})}),e.jsx(b.div,{className:"neomorphic neomorphic-hover rounded-2xl p-6 border border-graphite-800/30",whileHover:G.whileHover,transition:G.transition,variants:be,initial:"hidden",animate:"show",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gold-500/20 to-gold-600/10 border border-gold-500/20",children:e.jsx(Oa,{className:"w-6 h-6 text-gold-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"AutomaÃ§Ã£o"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:"94.8%"}),e.jsx("p",{className:"text-xs text-success mt-1",children:"+2.3% este mÃªs"})]})]})})]})]}),c==="AnÃ¡lises"&&e.jsx(Pe,{}),c==="Fluxo de Caixa"&&e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(Ae,{period:h})}),c==="Extrato de LanÃ§amentos"&&e.jsx(is,{}),c==="RelatÃ³rios"&&e.jsx(os,{}),c==="Clientes"&&e.jsx(ns,{}),c==="AnÃ¡lises"&&e.jsx(Pe,{}),c==="NotÃ­cias"&&e.jsx(bs,{cnpj:A,nomeEmpresa:z.find(a=>a.cnpj===A)?.cliente_nome||"Empresa",grupoEmpresarial:z.find(a=>a.cnpj===A)?.grupo_empresarial||"Grupo Empresarial"})]}),e.jsx(Ns,{open:o,onClose:()=>i(!1),onUpdateOracleContext:s}),!N&&(l?e.jsx(ys,{open:!N,onClose:()=>{},onLogged:a=>g(a)}):e.jsx("div",{className:"fixed inset-0 z-[90] bg-black/60 backdrop-blur flex items-center justify-center",children:e.jsxs("div",{className:"w-[360px] rounded-xl border border-graphite-800 bg-graphite-900 p-4 space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Entrar"}),u&&e.jsx("div",{className:"text-xs text-red-400",children:u}),e.jsx("input",{value:y,onChange:a=>S(a.target.value),placeholder:"E-mail",className:"w-full bg-graphite-800 border border-graphite-700 rounded-sm px-2 py-1 text-xs"}),e.jsx("input",{type:"password",value:w,onChange:a=>R(a.target.value),placeholder:"Senha",className:"w-full bg-graphite-800 border border-graphite-700 rounded-sm px-2 py-1 text-xs"}),e.jsx("button",{onClick:async()=>{E("");try{const a=await _a(y,w);if(!a){E(ne||"Credenciais invÃ¡lidas");return}g(a)}catch(a){E(a.message||"Erro ao fazer login")}},className:"px-3 py-1 rounded-sm bg-emerald-400 text-white text-xs",children:"Entrar"})]})}))]})]})}ta.createRoot(document.getElementById("root")).render(e.jsx(re.StrictMode,{children:e.jsx(Cs,{})}));
